/*
  Copyright 2014 The Lovefield Project Authors. All Rights Reserved.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
*/
(function(){'use strict';var aa=Object,ba=Math,ca=window,da=parseInt,ea=document,e=Array,fa=Error,ga=JSON,ha=String;function ia(a,b){return a.table=b}function ja(a,b){return a.name=b}function ka(a,b){return a.dump=b}function la(a,b){return a.clone=b}function ma(a,b){return a.exec=b}function na(a,b){return a.getName=b}function oa(a,b){return a.close=b}function pa(a,b){return a.value=b}function qa(a,b){return a.update=b}function ra(a,b){return a.delete=b}function sa(a,b){return a.onsuccess=b}
function ta(a,b){return a.clear=b}function ua(a,b){return a.values=b}function va(a,b){return a.remove=b}function wa(a,b){return a.child=b}function xa(a,b){return a.next=b}function za(a,b){return a.onerror=b}function Aa(a,b){return a.length=b}function f(a,b){return a.toString=b}function Ba(a,b){return a.bind=b}function Ca(a,b){return a.subscribe=b}function Da(a,b){return a.forEach=b}function Ea(a,b){return a.getPriority=b}
var Fa="openCursor",Ga="filter",Ha="once",Ia="objectStoreNames",Ja="split",h="table",Ka="reduce",m="join",La="reject",Ma="timing",Na="item",n="slice",Oa="target",q="name",r="call",t="prototype",Pa="exec",u="getName",Qa="close",Ra="concat",v="value",Sa="setImmediate",Ta="every",Ua="update",Va="global",Wa="propertyIsEnumerable",Xa="delete",Ya="sort",Za="indexOf",$a="some",ab="count",bb="orderByChild",w="clear",cb="values",db="replace",eb="reverse",fb="continue",gb="addAll",hb="removeChild",ib="remove",
jb="child",kb="create",x="push",z="then",lb="transaction",mb="index",nb="context",A="splice",ob="autoIncrement",pb="next",qb="shift",rb="hasOwnProperty",tb="contains",ub="version",vb="objectStore",wb="offset",xb="apply",yb="stringify",B="entries",C="length",zb="info",D="toString",Ab="compare",E="bind",Bb="getParent",Cb="rows",F="forEach",Db="getPriority",Eb="getTime",Fb="resolve",Gb="result",Hb="size";function Ib(){return function(){}}function Jb(a){return function(b){this[a]=b}}
function G(a){return function(){return this[a]}}function Kb(a){return function(){return a}}var H,Lb=this;function Mb(a){return void 0!==a}function I(a,b,c){a=a[Ja](".");c=c||Lb;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a[C]&&(d=a[qb]());)!a[C]&&Mb(b)?c[d]=b:c=c[d]?c[d]:c[d]={}}function Nb(){}function Ob(a){a.Me=function(){return a.yg?a.yg:a.yg=new a}}
function Pb(a){var b=typeof a;if("object"==b)if(a){if(a instanceof e)return"array";if(a instanceof aa)return b;var c=aa[t][D][r](a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a[C]&&"undefined"!=typeof a[A]&&"undefined"!=typeof a[Wa]&&!a[Wa]("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a[r]&&"undefined"!=typeof a[Wa]&&!a[Wa]("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a[r])return"object";return b}
function Qb(a){return null===a}function Rb(a){return null!=a}function Sb(a){var b=Pb(a);return"array"==b||"object"==b&&"number"==typeof a[C]}function Tb(a){return"string"==typeof a}function Ub(a){return"function"==Pb(a)}function Vb(a){return a[Wb]||(a[Wb]=++Xb)}var Wb="closure_uid_"+(1E9*ba.random()>>>0),Xb=0;function Yb(a,b,c){return a[r][xb](a[E],arguments)}
function Zb(a,b,c){if(!a)throw fa();if(2<arguments[C]){var d=e[t][n][r](arguments,2);return function(){var c=e[t][n][r](arguments);e[t].unshift[xb](c,d);return a[xb](b,c)}}return function(){return a[xb](b,arguments)}}function J(a,b,c){J=Function[t][E]&&-1!=Function[t][E][D]()[Za]("native code")?Yb:Zb;return J[xb](null,arguments)}function $b(a,b){var c=e[t][n][r](arguments,1);return function(){var b=c[n]();b[x][xb](b,arguments);return a[xb](this,b)}}
function K(a,b){function c(){}c.prototype=b[t];a.Pb=b[t];a.prototype=new c;a[t].constructor=a;a.Hl=function(a,c,k){for(var l=e(arguments[C]-2),p=2;p<arguments[C];p++)l[p-2]=arguments[p];return b[t][c][xb](a,l)}};function ac(a){if(fa.captureStackTrace)fa.captureStackTrace(this,ac);else{var b=fa().stack;b&&(this.stack=b)}a&&(this.message=ha(a))}K(ac,fa);ja(ac[t],"CustomError");function bc(a,b){for(var c=a[Ja]("%s"),d="",g=e[t][n][r](arguments,1);g[C]&&1<c[C];)d+=c[qb]()+g[qb]();return d+c[m]("%s")};function cc(a,b){b.unshift(a);ac[r](this,bc[xb](null,b));b[qb]()}K(cc,ac);ja(cc[t],"AssertionError");function dc(a,b,c,d){var g="Assertion failed";if(c)var g=g+(": "+c),k=d;else a&&(g+=": "+a,k=b);throw new cc(""+g,k||[]);}function L(a,b,c){a||dc("",null,b,e[t][n][r](arguments,2));return a}function ec(a,b){throw new cc("Failure"+(a?": "+a:""),e[t][n][r](arguments,1));}function fc(a,b,c){Ub(a)||dc("Expected function but got %s: %s.",[Pb(a),a],b,e[t][n][r](arguments,2));return a};function gc(a,b,c){this.Ak=c;this.Pi=a;this.il=b;this.be=0;this.Wd=null}gc[t].get=function(){var a;0<this.be?(this.be--,a=this.Wd,this.Wd=a[pb],xa(a,null)):a=this.Pi();return a};gc[t].put=function(a){this.il(a);this.be<this.Ak&&(this.be++,xa(a,this.Wd),this.Wd=a)};var hc=e[t],ic=hc[Za]?function(a,b,c){L(null!=a[C]);return hc[Za][r](a,b,c)}:function(a,b,c){c=null==c?0:0>c?ba.max(0,a[C]+c):c;if(Tb(a))return Tb(b)&&1==b[C]?a[Za](b,c):-1;for(;c<a[C];c++)if(c in a&&a[c]===b)return c;return-1},jc=hc[F]?function(a,b,c){L(null!=a[C]);hc[F][r](a,b,c)}:function(a,b,c){for(var d=a[C],g=Tb(a)?a[Ja](""):a,k=0;k<d;k++)k in g&&b[r](c,g[k],k,a)},kc=hc.map?function(a,b,c){L(null!=a[C]);return hc.map[r](a,b,c)}:function(a,b,c){for(var d=a[C],g=e(d),k=Tb(a)?a[Ja](""):a,l=0;l<
d;l++)l in k&&(g[l]=b[r](c,k[l],l,a));return g},lc=hc[Ka]?function(a,b,c,d){L(null!=a[C]);d&&(b=J(b,d));return hc[Ka][r](a,b,c)}:function(a,b,c,d){var g=c;jc(a,function(c,l){g=b[r](d,g,c,l,a)});return g},mc=hc[$a]?function(a,b,c){L(null!=a[C]);return hc[$a][r](a,b,c)}:function(a,b,c){for(var d=a[C],g=Tb(a)?a[Ja](""):a,k=0;k<d;k++)if(k in g&&b[r](c,g[k],k,a))return!0;return!1},nc=hc[Ta]?function(a,b,c){L(null!=a[C]);return hc[Ta][r](a,b,c)}:function(a,b,c){for(var d=a[C],g=Tb(a)?a[Ja](""):a,k=0;k<
d;k++)if(k in g&&!b[r](c,g[k],k,a))return!1;return!0};function oc(a,b){L(null!=a[C]);return 1==hc[A][r](a,b,1)[C]}function pc(a,b,c){a:{for(var d=a[C],g=Tb(a)?a[Ja](""):a,k=0;k<d;k++)if(k in g&&b[r](c,g[k],k,a)){b=k;break a}b=-1}return 0<=b?(oc(a,b),!0):!1}function qc(a){var b=a[C];if(0<b){for(var c=e(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function rc(a,b){for(var c=1;c<arguments[C];c++){var d=arguments[c];if(Sb(d)){var g=a[C]||0,k=d[C]||0;Aa(a,g+k);for(var l=0;l<k;l++)a[g+l]=d[l]}else a[x](d)}}function sc(a,b,c,d){L(null!=a[C]);return hc[A][xb](a,tc(arguments,1))}function tc(a,b,c){L(null!=a[C]);return 2>=arguments[C]?hc[n][r](a,b):hc[n][r](a,b,c)}function uc(a,b,c,d,g){for(var k=0,l=a[C],p;k<l;){var y=k+l>>1,ya;ya=c?b[r](g,a[y],y,a):b(d,a[y]);0<ya?k=y+1:(l=y,p=!ya)}return p?k:~k}function vc(a,b){return a>b?1:a<b?-1:0}
function wc(a,b,c){c=uc(a,c||vc,!1,b);return 0>c?(sc(a,-(c+1),0,b),!0):!1}function xc(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c}function yc(a){for(var b=[],c=0;c<arguments[C];c++){var d=arguments[c];if("array"==Pb(d))for(var g=0;g<d[C];g+=8192)for(var k=tc(d,g,g+8192),k=yc[xb](null,k),l=0;l<k[C];l++)b[x](k[l]);else b[x](d)}return b};function zc(a,b,c){for(var d in a)b[r](c,a[d],d,a)}function Ac(a,b,c){for(var d in a)if(b[r](c,a[d],d,a))return!0;return!1}function Bc(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Cc(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b};var Dc;a:{var Ec=Lb.navigator;if(Ec){var Fc=Ec.userAgent;if(Fc){Dc=Fc;break a}}Dc=""};function Gc(a){Lb.setTimeout(function(){throw a;},0)}var Ic;
function Jc(){var a=Lb.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof ca&&ca.postMessage&&ca.addEventListener&&-1==Dc[Za]("Presto")&&(a=function(){var a=ea.createElement("IFRAME");a.style.display="none";a.src="";ea.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a[Qa]();var c="callImmediate"+ba.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=J(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==Dc[Za]("Trident")&&-1==Dc[Za]("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(Mb(c[pb])){c=c[pb];var a=c.Nf;c.Nf=null;a()}};return function(a){xa(d,{Nf:a});d=d[pb];b.port2.postMessage(0)}}return"undefined"!==typeof ea&&"onreadystatechange"in ea.createElement("SCRIPT")?function(a){var b=ea.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode[hb](b);b=null;a();a=null};ea.documentElement.appendChild(b)}:function(a){Lb.setTimeout(a,0)}};function Kc(){this.pe=this.mc=null}var Mc=new gc(function(){return new Lc},function(a){a.reset()},100);Kc[t].add=function(a,b){var c=this.ck();c.set(a,b);this.pe?xa(this.pe,c):(L(!this.mc),this.mc=c);this.pe=c};va(Kc[t],function(){var a=null;this.mc&&(a=this.mc,this.mc=this.mc[pb],this.mc||(this.pe=null),xa(a,null));return a});Kc[t].jl=function(a){Mc.put(a)};Kc[t].ck=function(){return Mc.get()};function Lc(){this.scope=this.Ie=null;xa(this,null)}
Lc[t].set=function(a,b){this.Ie=a;this.scope=b;xa(this,null)};Lc[t].reset=function(){this.scope=this.Ie=null;xa(this,null)};function Nc(a,b){Oc||Pc();Qc||(Oc(),Qc=!0);Rc.add(a,b)}var Oc;function Pc(){if(Lb.Promise&&Lb.Promise[Fb]){var a=Lb.Promise[Fb](void 0);Oc=function(){a[z](Sc)}}else Oc=function(){var a=Sc;if(!Ub(Lb[Sa])||Lb.Window&&Lb.Window[t]&&Lb.Window[t][Sa]==Lb[Sa])Ic||(Ic=Jc()),Ic(a);else Lb[Sa](a)}}var Qc=!1,Rc=new Kc;[][x](function(){Qc=!1;Rc=new Kc});function Sc(){for(var a=null;a=Rc[ib]();){try{a.Ie[r](a.scope)}catch(b){Gc(b)}Rc.jl(a)}Qc=!1};function M(a,b){this.Ka=0;this.jh=void 0;this.Ad=this.qc=this.F=null;this.Vd=this.He=!1;if(a!=Nb)try{var c=this;a[r](b,function(a){c.Dc(2,a)},function(a){if(!(a instanceof Tc))try{if(a instanceof fa)throw a;throw fa("Promise rejected.");}catch(b){}c.Dc(3,a)})}catch(d){this.Dc(3,d)}}function Uc(){wa(this,null);this.context=this.Ac=this.bc=null;xa(this,null);this.se=!1}Uc[t].reset=function(){wa(this,null);this.context=this.Ac=this.bc=null;this.se=!1};
var Vc=new gc(function(){return new Uc},function(a){a.reset()},100);function Wc(a,b,c){var d=Vc.get();d.bc=a;d.Ac=b;d.context=c;return d}function Xc(a){if(a instanceof M)return a;var b=new M(Nb);b.Dc(2,a);return b}function Yc(a){return new M(function(b,c){c(a)})}function Zc(a,b,c){$c(a,b,c,null)||Nc($b(b,a))}function ad(a){return new M(function(b,c){var d=a[C],g=[];if(d)for(var k=function(a,c){d--;g[a]=c;0==d&&b(g)},l=function(a){c(a)},p=0,y;p<a[C];p++)y=a[p],Zc(y,$b(k,p),l);else b(g)})}
function bd(){var a,b,c=new M(function(c,g){a=c;b=g});return new cd(c,a,b)}M[t].then=function(a,b,c){null!=a&&fc(a,"opt_onFulfilled should be a function.");null!=b&&fc(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");return this.Ef(Ub(a)?a:null,Ub(b)?b:null,c)};M[t].then=M[t][z];M[t].$goog_Thenable=!0;H=M[t];
H.vl=function(a,b,c){null!=a&&fc(a,"opt_onFulfilled should be a function.");null!=b&&fc(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");this.Df(Wc(a||Nb,b||null,c))};H.xh=function(a,b){return this.Ef(null,a,b)};H.Df=function(a){this.lk()||2!=this.Ka&&3!=this.Ka||this.mh();this.Zk(a)};
H.Ef=function(a,b,c){var d=Wc(null,null,null);wa(d,new M(function(g,k){d.bc=a?function(b){try{var d=a[r](c,b);g(d)}catch(y){k(y)}}:g;d.Ac=b?function(a){try{var d=b[r](c,a);!Mb(d)&&a instanceof Tc?k(a):g(d)}catch(y){k(y)}}:k}));d[jb].F=this;this.Df(d);return d[jb]};H.yl=function(a){L(1==this.Ka);this.Ka=0;this.Dc(2,a)};H.zl=function(a){L(1==this.Ka);this.Ka=0;this.Dc(3,a)};
H.Dc=function(a,b){0==this.Ka&&(this==b&&(a=3,b=new TypeError("Promise cannot resolve to itself")),this.Ka=1,$c(b,this.yl,this.zl,this)||(this.jh=b,this.Ka=a,this.F=null,this.mh(),3!=a||b instanceof Tc||dd(this,b)))};
function $c(a,b,c,d){if(a instanceof M)return a.vl(b,c,d),!0;var g;if(a)try{g=!!a.$goog_Thenable}catch(k){g=!1}else g=!1;if(g)return a[z](b,c,d),!0;g=typeof a;if("object"==g&&null!=a||"function"==g)try{var l=a[z];if(Ub(l))return ed(a,l,b,c,d),!0}catch(p){return c[r](d,p),!0}return!1}function ed(a,b,c,d,g){function k(a){p||(p=!0,d[r](g,a))}function l(a){p||(p=!0,c[r](g,a))}var p=!1;try{b[r](a,l,k)}catch(y){k(y)}}H.mh=function(){this.He||(this.He=!0,Nc(this.ij,this))};H.lk=function(){return!!this.qc};
H.Zk=function(a){L(null!=a.bc);this.Ad?xa(this.Ad,a):this.qc=a;this.Ad=a};H.Tk=function(){var a=null;this.qc&&(a=this.qc,this.qc=a[pb],xa(a,null));this.qc||(this.Ad=null);null!=a&&L(null!=a.bc);return a};H.ij=function(){for(var a=null;a=this.Tk();)this.hj(a,this.Ka,this.jh);this.He=!1};H.hj=function(a,b,c){3==b&&a.Ac&&!a.se&&this.gl();if(a[jb])a[jb].F=null,fd(a,b,c);else try{a.se?a.bc[r](a[nb]):fd(a,b,c)}catch(d){gd[r](null,d)}Vc.put(a)};
function fd(a,b,c){2==b?a.bc[r](a[nb],c):a.Ac&&a.Ac[r](a[nb],c)}H.Oh=Ib();H.gl=function(){var a;for(a=this;a&&a.Vd;a=a.F)a.Vd=!1};function dd(a,b){a.Vd=!0;Nc(function(){a.Vd&&(a.Oh(b),gd[r](null,b))})}var gd=Gc;function Tc(a){ac[r](this,a)}K(Tc,ac);ja(Tc[t],"cancel");function cd(a,b,c){this.na=a;this.resolve=b;this.reject=c};
function hd(a,b){this.za=a;this.dc=b||this.$f()}var id=0;H=hd[t];H.id=G("za");H.Xh=Jb("za");H.w=G("dc");H.$f=function(){return{}};H.yh=G("dc");H.Ja=function(){return{id:this.za,value:this.yh()}};H.$b=function(a){return"#"==a.substr(-1)?this.za:null};function jd(a){return new hd(a.id,a[v])}function kd(a){return new hd(id++,a||{})}function ld(a){if(null==a)return null;a=new Uint8Array(a);for(var b="",c=0;c<a[C];++c)var d=a[c][D](16),b=b+(2>d[C]?"0"+d:d);return b};
function md(a){this.type=a}function nd(a){hd[r](this,-1,a)}K(nd,hd);
var od={};I("lf.TransactionType",od,void 0);od.READ_ONLY=0;od.READ_WRITE=1;

function pd(a,b){this.Wa=a;this.zh=b;this.ba=bd()}H=pd[t];H.Nj=G("Wa");H.pa=function(){try{this.Wa.ki()}catch(a){return Yc(a)}return(0==this.zh?this.Nc():this.Fk())[z](J(function(a){this.Wa.pa();return a},this))};H.Fk=function(){this.Gk();this.Ek();return this.Nc()};
H.Gk=function(){this.Wa.jg()[F](function(a,b){var c=this.Wa.ja().get(b),c=this.M(c[u](),J(c.tc,c)),d=a.Yc().j().map(function(a){return a.id()});0<d[C]&&c[ib](d).xh(this.Se,this);d=a.$c().j().map(function(a){return a[1]})[Ra](a.Wc().j());c.put(d).xh(this.Se,this)},this)};H.Ek=function(){this.Wa.Kj()[F](function(a){var b=this.M(a[u](),jd),c;b.get([-1])[z](function(a){c=a;return b[ib]([])})[z](function(){b.put(c);b.put(a.Ja())},J(this.Se,this))},this)};H.Se=function(a){this.ba[La](a)};function qd(a,b,c,d){c=c||function(a,b){return a==b};d=d||function(b){return a[b]};for(var g=a[C],k=b[C],l=[],p=0;p<g+1;p++)l[p]=[],l[p][0]=0;for(var y=0;y<k+1;y++)l[0][y]=0;for(p=1;p<=g;p++)for(y=1;y<=k;y++)c(a[p-1],b[y-1])?l[p][y]=l[p-1][y-1]+1:l[p][y]=ba.max(l[p-1][y],l[p][y-1]);for(var ya=[],p=g,y=k;0<p&&0<y;)c(a[p-1],b[y-1])?(ya.unshift(d(p-1,y-1)),p--,y--):l[p-1][y]>l[p][y-1]?p--:y--;return ya}function rd(a){return lc(arguments,function(a,c){return a+c},0)}
function sd(a){return rd[xb](null,arguments)/arguments[C]}function td(a){var b=arguments[C];if(2>b)return 0;var c=sd[xb](null,arguments);return rd[xb](null,kc(arguments,function(a){return ba.pow(a-c,2)}))/(b-1)}function ud(a){return ba.sqrt(td[xb](null,arguments))};var vd="StopIteration"in Lb?Lb.StopIteration:{message:"StopIteration",stack:""};function wd(){}xa(wd[t],function(){throw vd;});wd[t].Fc=function(){return this};function xd(a){if(a instanceof wd)return a;if("function"==typeof a.Fc)return a.Fc(!1);if(Sb(a)){var b=0,c=new wd;xa(c,function(){for(;;){if(b>=a[C])throw vd;if(b in a)return a[b++];b++}});return c}throw fa("Not implemented");}
function yd(a,b,c){if(Sb(a))try{jc(a,b,c)}catch(d){if(d!==vd)throw d;}else{a=xd(a);try{for(;;)b[r](c,a[pb](),void 0,a)}catch(g){if(g!==vd)throw g;}}}function zd(a){if(mc(arguments,function(a){return!a[C]})||!arguments[C])return new wd;var b=new wd,c=arguments,d=xc(0,c[C]);xa(b,function(){if(d){for(var a=kc(d,function(a,b){return c[b][a]}),b=d[C]-1;0<=b;b--){L(d);if(d[b]<c[b][C]-1){d[b]++;break}if(0==b){d=null;break}d[b]=0}return a}throw vd;});return b};function Ad(a,b){this.g={};this.b=[];this.Ta=this.aa=0;var c=arguments[C];if(1<c){if(c%2)throw fa("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this[gb](a)}H=Ad[t];H.Ma=G("aa");H.j=function(){this.Lc();for(var a=[],b=0;b<this.b[C];b++)a[x](this.g[this.b[b]]);return a};H.ia=function(){this.Lc();return this.b[Ra]()};H.K=function(a){return Bd(this.g,a)};H.Ed=function(a){for(var b=0;b<this.b[C];b++){var c=this.b[b];if(Bd(this.g,c)&&this.g[c]==a)return!0}return!1};
H.Sc=function(a,b){if(this===a)return!0;if(this.aa!=a.Ma())return!1;var c=b||Cd;this.Lc();for(var d,g=0;d=this.b[g];g++)if(!c(this.get(d),a.get(d)))return!1;return!0};function Cd(a,b){return a===b}H.fb=function(){return 0==this.aa};ta(H,function(){this.g={};Aa(this.b,0);this.Ta=this.aa=0});va(H,function(a){return Bd(this.g,a)?(delete this.g[a],this.aa--,this.Ta++,this.b[C]>2*this.aa&&this.Lc(),!0):!1});
H.Lc=function(){if(this.aa!=this.b[C]){for(var a=0,b=0;a<this.b[C];){var c=this.b[a];Bd(this.g,c)&&(this.b[b++]=c);a++}Aa(this.b,b)}if(this.aa!=this.b[C]){for(var d={},b=a=0;a<this.b[C];)c=this.b[a],Bd(d,c)||(this.b[b++]=c,d[c]=1),a++;Aa(this.b,b)}};H.get=function(a,b){return Bd(this.g,a)?this.g[a]:b};H.set=function(a,b){Bd(this.g,a)||(this.aa++,this.b[x](a),this.Ta++);this.g[a]=b};
H.addAll=function(a){var b;a instanceof Ad?(b=a.ia(),a=a.j()):(b=Cc(a),a=Bc(a));for(var c=0;c<b[C];c++)this.set(b[c],a[c])};Da(H,function(a,b){for(var c=this.ia(),d=0;d<c[C];d++){var g=c[d],k=this.get(g);a[r](b,k,g,this)}});la(H,function(){return new Ad(this)});H.Fc=function(a){this.Lc();var b=0,c=this.Ta,d=this,g=new wd;xa(g,function(){if(c!=d.Ta)throw fa("The map has changed since the iterator was created");if(b>=d.b[C])throw vd;var g=d.b[b++];return a?g:d.g[g]});return g};
function Bd(a,b){return aa[t][rb][r](a,b)};
function Dd(){this.g=new Ad;aa.defineProperty(this,"size",{get:function(){return this.g.Ma()}})}ta(Dd[t],function(){this.g[w]()});ta(Dd[t],Dd[t][w]);ra(Dd[t],function(a){return this.g[ib](a)});Dd[t]["delete"]=Dd[t][Xa];Da(Dd[t],function(a,b){return this.g[F](a,b)});Da(Dd[t],Dd[t][F]);Dd[t].get=function(a){return this.g.get(a)};Dd[t].get=Dd[t].get;Dd[t].has=function(a){return this.g.K(a)};Dd[t].has=Dd[t].has;Dd[t].set=function(a,b){return this.g.set(a,b)};Dd[t].set=Dd[t].set;
var N=ca.Map&&ca.Map[t][cb]&&ca.Map[t][F]?ca.Map:Dd;function Ed(a){if(a instanceof Dd)return a.g.ia();var b=0,c=e(a[Hb]);a[F](function(a,g){c[b++]=g});return c}function Fd(a){if(a instanceof Dd)return a.g.j();var b=0,c=e(a[Hb]);a[F](function(a){c[b++]=a});return c};
function Gd(a){this.kl=a}f(Gd[t],G("kl"));var Hd=new Gd("backstore"),Id=new Gd("cache"),Jd=new Gd("indexstore"),Kd=new Gd("engine"),Ld=new Gd("runner"),Md=new Gd("observerregistry"),Nd=new Gd("schema");
function Od(a){if("function"==typeof a.Ma)a=a.Ma();else if(Sb(a)||Tb(a))a=a[C];else{var b=0,c;for(c in a)b++;a=b}return a}function Pd(a){if("function"==typeof a.j)return a.j();if(Tb(a))return a[Ja]("");if(Sb(a)){for(var b=[],c=a[C],d=0;d<c;d++)b[x](a[d]);return b}return Bc(a)}
function Qd(a,b,c){if("function"==typeof a[Ta])return a[Ta](b,c);if(Sb(a)||Tb(a))return nc(a,b,c);var d;if("function"==typeof a.ia)d=a.ia();else if("function"!=typeof a.j)if(Sb(a)||Tb(a)){d=[];for(var g=a[C],k=0;k<g;k++)d[x](k)}else d=Cc(a);else d=void 0;for(var g=Pd(a),k=g[C],l=0;l<k;l++)if(!b[r](c,g[l],d&&d[l],a))return!1;return!0};function O(a){this.g=new Ad;a&&this[gb](a)}function Rd(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+Vb(a):b.substr(0,1)+a}H=O[t];H.Ma=function(){return this.g.Ma()};H.add=function(a){this.g.set(Rd(a),a)};H.addAll=function(a){a=Pd(a);for(var b=a[C],c=0;c<b;c++)this.add(a[c])};va(H,function(a){return this.g[ib](Rd(a))});ta(H,function(){this.g[w]()});H.fb=function(){return this.g.fb()};H.contains=function(a){return this.g.K(Rd(a))};H.Hi=function(a){return Qd(a,this[tb],this)};H.j=function(){return this.g.j()};
la(H,function(){return new O(this)});H.Sc=function(a){return this.Ma()==Od(a)&&this.xk(a)};H.xk=function(a){var b=Od(a);if(this.Ma()>b)return!1;!(a instanceof O)&&5<b&&(a=new O(a));return Qd(this,function(b){var d=a;if("function"==typeof d[tb])b=d[tb](b);else if("function"==typeof d.Ed)b=d.Ed(b);else if(Sb(d)||Tb(d))b=0<=ic(d,b);else a:{for(var g in d)if(d[g]==b){b=!0;break a}b=!1}return b})};H.Fc=function(){return this.g.Fc(!1)};
function Sd(a){this.jc=new O(a);aa.defineProperty(this,"size",{get:function(){return this.jc.Ma()}})}Sd[t].add=function(a){this.jc.add(a)};Sd[t].add=Sd[t].add;ta(Sd[t],function(){this.jc[w]()});ta(Sd[t],Sd[t][w]);ra(Sd[t],function(a){return this.jc[ib](a)});Sd[t]["delete"]=Sd[t][Xa];Da(Sd[t],function(a,b){this.jc.j()[F](a,b)});Sd[t].has=function(a){return this.jc[tb](a)};Sd[t].has=Sd[t].has;function Td(a){return ca.Set&&ca.Set[t][cb]&&ca.Set[t][F]?new ca.Set(a):new Sd(a)}
function Ud(a){if(a instanceof Sd)return a.jc.j();var b=0,c=e(a[Hb]);a[F](function(a){c[b++]=a});return c};
function Vd(a,b){this.za=a;this.dc=b||{}}function Wd(a){var b=Td();a[F](function(a){b.add(a>>9)});return Ud(b)}H=Vd[t];H.fa=G("za");H.zc=G("dc");H.rh=function(a){a[F](function(a){this.dc[a.id()]=a.Ja()},this)};H.fl=function(a){a[F](function(a){var c=this.dc;a in c&&delete c[a]},this)};H.Ja=function(){return{id:this.za,value:ga[yb](this.dc)}};function Xd(a){return new Vd(a.id,ga.parse(a[v]))};

function Yd(a,b,c){this.$=a;this.Vb=b;this.kh=c}H=Yd[t];H.get=function(a){return 0==a[C]?this.Xc():this.Rj(a)[z](J(function(b){return a.map(function(a){var d=b.get(a>>9);L(d,"Containing page is empty");return this.Vb(d.zc()[a])},this)},this))};H.Rj=function(a){var b=new N,c=bd();a=Wd(a).map(function(a){return new M(function(c,k){var l;try{l=this.$.get(a)}catch(p){k(p);return}za(l,k);sa(l,J(function(a){a=Xd(a[Oa][Gb]);b.set(a.fa(),a);c()},this))},this)},this);ad(a)[z](function(){c[Fb](b)});return c.na};
H.Xc=function(){return new M(function(a,b){var c=[],d;try{d=this.$[Fa]()}catch(g){b(g);return}za(d,b);sa(d,J(function(){var b=d[Gb];if(b){var g=Xd(b[v]).zc(),p;for(p in g)c[x](this.Vb(g[p]));b[fb]()}else a(c)},this))},this)};H.ec=function(a){return new M(function(b,c){var d;try{d=a()}catch(g){c(g);return}sa(d,b);za(d,c)},this)};
H.put=function(a){if(0==a[C])return Xc();var b=new N;a[F](function(a){var d;d=a.id()>>9;var g=b.get(d)||null;null===g&&(g=this.kh(this.$[q],d));g.rh([a]);b.set(d,g)},this);a=Fd(b).map(function(a){return this.ec(J(function(){return this.$.put(a.Ja())},this))},this);return ad(a)};
va(H,function(a){if(0==a[C])return this.ec(J(function(){return this.$[w]()},this));var b=new N;a[F](function(a){var d=a>>9,g=b.get(d)||null;null===g&&(g=this.kh(this.$[q],d));g.fl([a]);b.set(d,g)},this);a=Fd(b).map(function(a){return this.ec(J(function(){var b;a:{b=a.zc();for(var g in b){b=!1;break a}b=!0}return b?this.$[Xa](a.fa()):this.$.put(a.Ja())},this))},this);return ad(a)});function Zd(a,b,c){a=a.o(Id);var d=[c<<9,(c+1<<9)-1];b=a.pb(b,d[0],d[1]);c=new Vd(c);c.rh(b);return c}
function $d(a,b){return new Vd(b)};
function ae(){};
function be(a){this.va=a.o(Id);this.H=a.o(Jd);this.s=a.o(Nd)}H=be[t];qa(H,function(a){a[F](function(a){this.Dl(a);this.Al(a)},this)});H.Al=function(a){var b=a[u]();a.Yc().j()[F](function(a){this.va[ib](b,[a.id()])},this);a.Wc()[F](function(a){this.va.set(b,[a])},this);a.$c()[F](function(a){this.va.set(b,[a[1]])},this)};H.Dl=function(a){var b=this.s[h](a[u]());a.Hj()[F](function(a){this.Eh(b,a)},this)};
H.Eh=function(a,b){var c=[];this.H.qg(a[u]())[F](function(a){try{this.Dh(a,b),c[x](a)}catch(g){throw c[F](function(a){this.Dh(a,[b[1],b[0]])},this),g;}},this)};H.Dh=function(a,b){var c=null===b[1]?void 0:b[1].$b(a[u]()),d=null===b[0]?void 0:b[0].$b(a[u]());if(!Mb(d)&&Mb(c))a.add(c,b[1].id());else if(Mb(d)&&Mb(c)){if(null===c||null===d){if(c==d)return}else if(0==a.Oc()[Ab](d,c))return;a.add(c,b[1].id());a[ib](d,b[0].id())}else Mb(d)&&!Mb(c)&&a[ib](d,b[0].id())};
var ce={};I("lf.ConstraintAction",ce,void 0);ce.RESTRICT=0;ce.CASCADE=1;var de={};I("lf.ConstraintTiming",de,void 0);de.IMMEDIATE=0;de.DEFERRABLE=1;var ee={};I("lf.Order",ee,void 0);ee.DESC=0;ee.ASC=1;var fe={};I("lf.Type",fe,void 0);fe.ARRAY_BUFFER=0;fe.BOOLEAN=1;fe.DATE_TIME=2;fe.INTEGER=3;fe.NUMBER=4;fe.STRING=5;fe.OBJECT=6;var ge={0:null,1:!1,2:aa.freeze(new Date(0)),3:0,4:0,5:"",6:null};I("lf.type.DEFAULT_VALUES",ge,void 0);
function P(a,b){this.code=a;this.message="http://sn.im/2a0j3wn?c="+a;if(1<arguments[C])for(var c=1;c<=ba.min(4,arguments[C]-1);++c)this.message+="&p"+(c-1)+"="+encodeURIComponent(ha(arguments[c][D]()[n](0,64)))}K(P,fa);

function he(a){this.H=a.o(Jd);this.s=a.o(Nd)}H=he[t];H.pj=function(a,b){var c=a.Kb().Rd();return null===c?null:this.oj(c,b)};H.oj=function(a,b){var c=a.m(),d=b.$b(c),c=this.H.get(c).get(d);return 0==c[C]?null:c[0]};H.Ae=function(a,b){var c=a.Kb().Pj();b[F](function(a){c[F](function(b){if(null==a.w()[b[u]()])throw new P(202,b.m());},this)},this)};H.Sf=function(a,b,c){a.Kb().Le()[F](function(a){a[Ma]==c&&this.yi(a,b)},this)};
H.yi=function(a,b){b[F](function(b){if(ie(b[0],b[1],a[q])){b=b[1].w()[a.Sb];var d=this.mg(a);if(null!==b&&!d.K(b))throw new P(203,a[q]);}},this)};H.mg=function(a){var b=this.s[h](a.gb)[a.Cc].Fa()[Ga](function(b){return 1==b.f[C]&&b.f[0].ga[u]()==a.Cc})[0];return this.H.get(b.m())};function ie(a,b,c){return(null===a?null!==b:null===b)||a.$b(c)!=b.$b(c)}
H.Tf=function(a,b,c){a=this.s[zb]().Xj(a[u]());null!=a&&a[F](function(a){if(a[Ma]==c){var g=this.H.get(a[q]);b[F](function(b){var c=this.mg(a);if(ie(b[0],b[1],c[u]())&&g.K(b[0].w()[a.Cc]))throw new P(203,a[q]);},this)}},this)};H.ye=function(a,b,c){0!=b[C]&&(b=b.map(function(a){return[null,a]}),this.Sf(a,b,c))};H.ze=function(a,b,c){0!=b[C]&&(this.Sf(a,b,c),this.Tf(a,b,c))};H.Qf=function(a,b,c){0!=b[C]&&(b=b.map(function(a){return[a,null]}),this.Tf(a,b,c))};
function je(a){this.kb=new Ad;this.Pa=new Ad;this.nb=new Ad;this.A=a}H=je[t];na(H,G("A"));H.Wc=G("kb");H.$c=G("Pa");H.Yc=G("nb");H.add=function(a){if(this.nb.K(a.id())){var b=[this.nb.get(a.id()),a];this.Pa.set(a.id(),b);this.nb[ib](a.id())}else this.kb.set(a.id(),a)};H.modify=function(a){var b=a[0],c=a[1];L(b.id()==c.id(),"Row ID mismatch between old/new values.");b=b.id();this.kb.K(b)?this.kb.set(b,c):(this.Pa.K(b)&&(a=[this.Pa.get(a[0].id())[0],c]),this.Pa.set(b,a))};
ra(H,function(a){if(this.kb.K(a.id()))this.kb[ib](a.id());else if(this.Pa.K(a.id())){var b=this.Pa.get(a.id())[0];this.Pa[ib](a.id());this.nb.set(a.id(),b)}else this.nb.set(a.id(),a)});H.Hj=function(){var a=[];this.kb.j()[F](function(b){a[x]([null,b])},this);this.Pa.j()[F](function(b){a[x](b)},this);this.nb.j()[F](function(b){a[x]([b,null])},this);return a};f(H,function(){return"["+this.kb.ia()[D]()+"], ["+this.Pa.ia()[D]()+"], ["+this.nb.ia()[D]()+"]"});
H.Yj=function(){var a=new je(this.A);this.kb.j()[F](function(b){a[Xa](b)},this);this.nb.j()[F](function(b){a.add(b)},this);this.Pa.j()[F](function(b){a.modify([b[1],b[0]])},this);return a};H.fb=function(){return this.kb.fb()&&this.nb.fb()&&this.Pa.fb()};
function ke(a,b){this.ta=new N;b[F](function(a){this.ta.set(a[u](),a)},this);this.va=a.o(Id);this.H=a.o(Jd);this.Ua=new he(a);this.Xd=new be(a);this.hf=this.ne=!1;this.Hb=new N}H=ke[t];H.jg=G("Hb");H.Kj=function(){var a=[];Ed(this.Hb).map(function(a){return this.ta.get(a)},this)[F](function(b){b.Mb()&&(b.Fa()[F](function(b){a[x](this.H.get(b.m()))},this),a[x](this.H.get(b[u]()+".#")))},this);return a};H.ja=G("ta");
H.Lj=function(){var a=[];this.ta[F](function(b){b.Mb()&&(b.Fa()[F](function(b){a[x](b.m())}),a[x](b[u]()+".#"))});return a};H.Eb=function(a,b){this.Jc();this.Bd(a);this.Ua.Ae(a,b);this.Ua.ye(a,b,0);for(var c=0;c<b[C];c++)this.Yd(a,[null,b[c]])};
H.Yd=function(a,b){var c=a[u](),d=this.Hb.get(c)||new je(c);this.Hb.set(c,d);try{this.Xd.Eh(a,b)}catch(g){throw this.hf=!0,g;}var k=b[0],l=b[1];null===k&&null!==l?(this.va.set(c,[l]),d.add(l)):null!==k&&null!==l?(this.va.set(c,[l]),d.modify(b)):null!==k&&null===l&&(this.va[ib](c,[k.id()]),d[Xa](k))};qa(H,function(a,b){this.Jc();this.Bd(a);this.Ua.Ae(a,b);for(var c=0;c<b[C];c++){var d=b[c],d=[this.va.get([d.id()])[0],d];this.Ua.ze(a,[d],0);this.Yd(a,d)}});
H.Ue=function(a,b){this.Jc();this.Bd(a);this.Ua.Ae(a,b);for(var c=0;c<b[C];c++){var d=b[c],g=null,k=this.Ua.pj(a,d);null!=k?(g=this.va.get([k])[0],d.Xh(k),this.Ua.ze(a,[[g,d]],0)):this.Ua.ye(a,[d],0);this.Yd(a,[g,d])}};va(H,function(a,b){this.Jc();this.Bd(a);this.Ua.Qf(a,b,0);for(var c=0;c<b[C];c++)this.Yd(a,[b[c],null])});H.ki=function(){this.Hb[F](function(a){var b=this.ta.get(a[u]());this.Ua.ye(b,a.Wc().j(),1);this.Ua.Qf(b,a.Yc().j(),1);this.Ua.ze(b,a.$c().j(),1)},this)};
H.pa=function(){this.Jc();this.ne=!0};H.Jc=function(){L(!this.hf,"Attemptted to use journal that needs to be rolled back.");L(!this.ne,"Attemptted to commit a terminated journal.")};H.Nb=function(){L(!this.ne,"Attempted to rollback a terminated journal.");var a=Fd(this.Hb).map(function(a){return a.Yj()});this.Xd[Ua](a);this.ne=!0;this.hf=!1};H.Bd=function(a){if(!this.ta.has(a[u]()))throw new P(106,a[u]());};
function le(a,b,c,d){this.c=a;this.u=b;this.Y=null===this.c?!1:c;this.da=null===this.u?!1:d}H=le[t];f(H,function(){return(this.Y?"(":"[")+(null===this.c?"unbound":this.c)+", "+(null===this.u?"unbound":this.u)+(this.da?")":"]")});H.Di=function(){if(null===this.c&&null===this.u)return[];var a=null,b=null;null===this.c||(a=new le(null,this.c,!1,!this.Y));null===this.u||(b=new le(this.u,null,!this.da,!1));return[a,b][Ga](function(a){return null!==a})};
H.reverse=function(){return new le(this.u,this.c,this.da,this.Y)};H.Xg=function(a){var b=me(this.c,a.c,!0,this.Y,a.Y);if(0==b)return!0;var c=-1==b?this:a;a=1==b?this:a;return null===c.u||c.u>a.c||c.u==a.c&&!c.da&&!a.Y};function ne(){return new le(null,null,!1,!1)}H.zg=function(){return null===this.c&&null===this.u};H.Eg=function(){return null!=this.c&&this.c==this.u&&!this.Y&&!this.da};
H.contains=function(a){var b=null===this.u||a<this.u||a==this.u&&!this.da;return(null===this.c||a>this.c||a==this.c&&!this.Y)&&b};H.Sc=function(a){return this.c==a.c&&this.Y==a.Y&&this.u==a.u&&this.da==a.da};function me(a,b,c,d,g){function k(a){return c?a:1==a?-1:1}d=d||!1;g=g||!1;return null===a?null===b?(d?!g:g)?d?k(1):k(-1):0:k(-1):null===b?k(1):a<b?-1:a==b?(d?!g:g)?d?k(1):k(-1):0:1}function oe(a,b){var c=me(a.c,b.c,!0,a.Y,b.Y);0==c&&(c=me(a.u,b.u,!1,a.da,b.da));return c};
function pe(a,b){this.entries=a;this.I=new O(b);this.Qb=null}H=pe[t];H.uk=function(a){return this.I.Sc(a.I)};function qe(a,b){L(a.uk(b),"Intersection/union operations only apply to compatible relations.")}H.W=function(){return this.I.j()};H.Xe=function(){return 1<this.I.Ma()};H.Ne=function(){return this[B].map(function(a){return a.xa.w()})};H.$j=function(){return this[B].map(function(a){return a.xa.id()})};H.oh=function(a,b){null===this.Qb&&(this.Qb=new Ad);this.Qb.set(a.m(),b)};
H.yc=function(a){L(null!==this.Qb,"getAggregationResult called before any results have been calculated.");var b=this.Qb.get(a.m(),void 0);L(Mb(b),"Could not find result for "+a.m());return b};H.ug=function(a){return null!==this.Qb&&this.Qb.K(a.m())};var re=null;function se(){null===re&&(re=new pe([],[]));return re}
function te(a){if(0==a[C])return se();for(var b=a[Ka](function(b,c){qe(a[0],c);return b+c[B][C]},0),c=e(b),d=0,b=a.map(function(a){var b=new Ad;a[B][F](function(a){c[d++]=a;b.set(a.id,a)});return b}),g=new Ad,k=0;k<c[C];k++)b[Ta](function(a){return a.K(c[k].id)})&&g.set(c[k].id,c[k]);return new pe(g.j(),a[0].I.j())}function ue(a){if(0==a[C])return se();var b=new Ad;a[F](function(c){qe(a[0],c);c[B][F](function(a){b.set(a.id,a)})});return new pe(b.j(),a[0].I.j())}
function ve(a,b){var c=1<b[C],d=a.map(function(a){return new we(a,c)});return new pe(d,b)}function we(a,b){this.xa=a;this.id=xe++;this.Ye=b}var xe=0;we[t].V=function(a){var b=a.cb();return null!==b&&this.xa.w()[rb](b)?this.xa.w()[b]:this.Ye?this.xa.w()[a.M().qa()][a[u]()]:this.xa.w()[a[u]()]};we[t].sf=function(a,b){var c=a.cb();if(null!=c)this.xa.w()[c]=b;else if(this.Ye){var c=a.M().qa(),d=this.xa.w()[c];null==d&&(d={},this.xa.w()[c]=d);d[a[u]()]=b}else this.xa.w()[a[u]()]=b};
function ye(a,b,c,d){function g(a,b){if(a.Ye){var c=a.xa.w(),d;for(d in c)k[d]=c[d]}else L(!k[rb](b[0]),"Attempted to join table with itself, without using table alias, or same alias "+b[0]+"is reused for multiple tables."),k[b[0]]=a.xa.w()}var k={};g(a,b);g(c,d);a=new hd(-1,k);return new we(a,!0)};
I("lf.bind",function(a){return new ze(a)},void 0);function ze(a){this.ra=a}I("lf.Binder",ze,void 0);ze[t].Bb=G("ra");
function Ae(){var a=Be();this.wc=new N;this.wc.set(1,Ce());this.wc.set(2,De());this.wc.set(4,a);this.wc.set(3,a);this.wc.set(5,Ee())}Ob(Ae);Ae[t].Ke=function(a,b){var c=this.wc.get(a)||null;L(null!==c,"Could not find evaluation map for "+a);c=c.get(b)||null;L(null!==c,"Could not find evaluator for "+a+", "+b);return c};function Ce(){var a=new N;a.set("eq",function(a,c){return a==c});a.set("neq",function(a,c){return a!=c});return a}
function Be(){var a=Ce();a.set("between",function(a,c){return a>=c[0]&&a<=c[1]});a.set("gte",function(a,c){return a>=c});a.set("gt",function(a,c){return a>c});a.set("in",function(a,c){return-1!=c[Za](a)});a.set("lte",function(a,c){return a<=c});a.set("lt",function(a,c){return a<c});return a}function Ee(){var a=Be();a.set("match",function(a,c){return(new RegExp(c)).test(a)});return a}
function De(){var a=new N;a.set("between",function(a,c){return a[Eb]()>=c[0][Eb]()&&a[Eb]()<=c[1][Eb]()});a.set("eq",function(a,c){return(null===a?-1:a[Eb]())==(null===c?-1:c[Eb]())});a.set("gte",function(a,c){return a[Eb]()>=c[Eb]()});a.set("gt",function(a,c){return a[Eb]()>c[Eb]()});a.set("in",function(a,c){return c[$a](function(c){return c[Eb]()==a[Eb]()})});a.set("lte",function(a,c){return a[Eb]()<=c[Eb]()});a.set("lt",function(a,c){return a[Eb]()<c[Eb]()});a.set("neq",function(a,c){return(null===
a?-1:a[Eb]())!=(null===c?-1:c[Eb]())});return a};function Fe(a,b){this.Lg=a;this.Fh=b}Fe[t].getKey=G("Lg");Fe[t].dk=G("Fh");la(Fe[t],function(){return new Fe(this.Lg,this.Fh)});function Ge(a,b){Fe[r](this,a,b);this.h=this.F=null}K(Ge,Fe);var He=[];H=Ge[t];la(H,function(){return new Ge(this.getKey(),this.dk())});H.getParent=G("F");H.Cg=function(){return!this.ya()};H.ea=function(){return this.h||He};H.Ab=function(a){return this.ea()[a]||null};H.ya=function(){return this.ea()[C]};H.Jj=function(){for(var a=0,b=this;b[Bb]();)a++,b=b[Bb]();return a};H.qb=function(){for(var a=this;a[Bb]();)a=a[Bb]();return a};H.contains=function(a){do a=a[Bb]();while(a&&a!=this);return Boolean(a)};
H.Ec=function(a,b){if(!1!==a[r](b,this))for(var c=this.ea(),d=0;d<c[C];d++)c[d].Ec(a,b)};H.ph=Jb("F");H.oa=function(a){this.Gc(a,this.h?this.h[C]:0)};H.Gc=function(a,b){L(!a[Bb]());a.ph(this);this.h=this.h||[];L(0<=b&&b<=this.h[C]);sc(this.h,b,0,a)};H.he=function(a){var b=this.h&&this.h[a];return b?(b.ph(null),oc(this.h,a),0==this.h[C]&&(this.h=null),b):null};H.removeChild=function(a){return this.he(ic(this.ea(),a))};

function Ie(){Ge[r](this,"","");this.za=Je++}K(Ie,Ge);var Je=0;Ie[t].fa=G("za");Ie[t].tf=Jb("za");
function Ke(a,b,c){Ie[r](this);this.J=a;pa(this,b);this.L=c;this.Hd=Ae.Me().Ke(this.J.X(),this.L);this.eb=!1;this.pc=b}K(Ke,Ie);H=Ke[t];H.Tb=function(){var a=new Ke(this.J,this[v],this.L);a.ll(this.pc);a.le(this.eb);a.tf(this.fa());return a};H.ob=function(a){return null!=a?(a[x](this.J),a):[this.J]};H.le=Jb("eb");H.ll=Jb("pc");H.Of=function(){var a=!1;this[v]instanceof ze||(a="array"==Pb(this[v])?!this[v][$a](function(a){return a instanceof ze}):!0);if(!a)throw new P(501);};
H.eval=function(a){this.Of();if("in"==this.L)return this.Wi(a);var b=a[B][Ga](function(a){return this.Hd(a.V(this.J),this[v])!=this.eb},this);return new pe(b,a.W())};Ba(H,function(a){if(this.pc instanceof ze){var b=this.pc.Bb();if(a[C]<=b)throw new P(510);pa(this,a[b])}else"array"==Pb(this.pc)&&pa(this,this.pc.map(function(b){if(b instanceof ze){if(a[C]<=b.Bb())throw new P(510);return a[b.Bb()]}return b}))});
H.Wi=function(a){L("in"==this.L,"ValuePredicate#evalAsIn_() called for wrong predicate type.");var b=new O(this[v]),c=J(function(a){return b[tb](a)!=this.eb},this),d=a[B][Ga](function(a){return c(a.V(this.J))},this);return new pe(d,a.W())};f(H,function(){return"value_pred("+this.J.m()+" "+this.L+(this.eb?"(complement)":"")+" "+this[v]+")"});H.Bg=function(){this.Of();return null!==this[v]&&("between"==this.L||"eq"==this.L||"gt"==this.L||"gte"==this.L||"lt"==this.L||"lte"==this.L)};
H.wl=function(){L(this.Bg(),"Could not convert predicate to key range.");var a=null;"between"==this.L?a=new le(this[v][0],this[v][1],!1,!1):"eq"==this.L?(a=this[v],a=new le(a,a,!1,!1)):a="gte"==this.L?new le(this[v],null,!1,!1):"gt"==this.L?new le(this[v],null,!0,!1):"lte"==this.L?new le(null,this[v],!1,!1):new le(null,this[v],!1,!0);return this.eb?a.Di():[a]};
function Le(a){this.ga=a;this.Mc=this.wa=null}Le[t].Qd=function(a){null===this.wa&&null!=this.D&&(this.wa=Me(this.D));a=this.wa.get(a,null);L(null!==a);return a};function Me(a){var b=new Ad;a.Ec(function(a){b.set(a.fa(),a)});return b}Le[t].Cd=function(a){a.D&&(this.D=a.D.Tb());this.Mc=a};Ba(Le[t],function(){L(null==this.Mc);return this});Le[t].ve=function(a){var b=this.D;null!=b&&b.Ec(function(b){b instanceof Ke&&b[E](a)})};
function Ne(a){Le[r](this,a)}K(Ne,Le);function Oe(a){var b="";a[F](function(c,d){b+=c.J.m()+" ";b+=1==c.tb?"ASC":"DESC";d<a[C]-1&&(b+=", ")});return b}Ne[t].ja=function(){return new O(this.c)};la(Ne[t],function(){var a=new Ne(this.ga);a.Cd(this);this.f&&(a.f=this.f[n]());this.c&&(a.c=this.c[n]());a.Z=this.Z;a.O=this.O;this.N&&(a.N=this.N[n]());this.ka&&(a.ka=this.ka[n]());this.ac&&(a.ac=this.ac);this.lc&&(a.lc=this.lc);a.Bc=this.Bc;return a});
Ba(Ne[t],function(a){Ne.Pb[E][r](this,a);null!=this.ac&&(this.Z=a[this.ac.Bb()]);null!=this.lc&&(this.O=a[this.lc.Bb()]);this.ve(a);return this});
function Pe(a,b){this.Ea=a;this.ta=b}Pe[t].qb=G("Ea");Pe[t].eg=Kb("plan description");Pe[t].ja=G("ta");function Qe(a){var b=new O;a[F](function(a){b[gb](a.ja())});return b};

function Re(a,b){this.global=a;this.Ib=a.o(Hd);this.fe=b.map(function(a){return a[nb]});this.$g=b.map(function(a){return a.jf});this.Wf=Qe(this.$g);this.Ah=this.Si();this.gc=bd()}H=Re[t];H.Si=function(){return this.fe[$a](function(a){return!(a instanceof Ne)})?1:0};
ma(H,function(){var a=new ke(this[Va],this.Wf.j()),b=[],c=this.$g[n](),d=J(function(){var g=c[qb]();if(g){var k=this.fe[b[C]];return g.qb()[Pa](a,k)[z](function(a){b[x](a[0]);return d()})}return Xc()},this);return d()[z](J(function(){return this.Ib.Ub(this.Ah,a).pa()},this))[z](J(function(){this.ff(b);return b},this),J(function(b){a.Nb();throw b;},this))});H.X=G("Ah");H.ja=G("Wf");H.ad=G("gc");H.fa=function(){return Vb(this)};H.ff=Ib();
function Se(a,b){Re[r](this,a,b);this.Lb=a.o(Md)}K(Se,Re);Ea(Se[t],Kb(0));Se[t].ff=function(a){this.fe[F](function(b,c){this.Lb.Ch(b,a[c])},this)};
function Te(a,b){this.l=a;this.Lb=a.o(Md);this.Za=a.o(Ld);this.Xd=new be(a);this.Hb=b;var c=a.o(Nd),d=this.Hb.map(function(a){return c[h](a[u]())});this.ta=new O(d);this.gc=bd()}H=Te[t];ma(H,function(){this.Xd[Ua](this.Hb);this.nd();return Xc()});H.X=Kb(1);H.ja=G("ta");H.ad=G("gc");H.fa=function(){return Vb(this)};Ea(H,Kb(1));H.nd=function(){var a=this.Lb.Re(this.ta.j());0!=a[C]&&(a=new Se(this.l,a),this.Za.ic(a))};
function Ue(a){this.l=a;this.Ib=a.o(Hd);this.Za=a.o(Ld)}Ue[t].sl=function(){this.Ib.subscribe(this.df[E](this))};Ue[t].df=function(a){a=new Te(this.l,a);this.Za.ic(a)};


function Ve(a,b){this.Ta=a;this.i=b;this.jb=new N}I("lf.backstore.FirebaseRawBackStore",Ve,void 0);H=Ve[t];H.Sd=G("i");H.Td=function(){throw new P(351);};function We(a,b){var c=bd(),d=a;b[C]&&(d=a[jb](b));d[Ha]("value",function(a){c[Fb](a.val())},function(a){c[La](a)});return c.na}function Xe(a,b,c){function d(a){a?g[La](a):g[Fb]()}c=c||!1;var g=bd();c?a.set(b,d):a[Ua](b,d);return g.na}
H.Ga=function(a){return We(this.i,"@rev/R")[z](function(a){this.Ya=a;return We(this.i,"@table")}[E](this))[z](function(b){var c=0,d;for(d in b)this.jb.set(d,b[d]),b[d]>c&&(c=b[d]);a.ab()[F](function(a){this.jb.has(a[u]())||(b[a[u]()]=++c)},this);d=this.i[jb]("@table");return Xe(d,b)}[E](this))};
H.oe=function(a,b){var c=this.jb.get(a);return null!=c?function(){var a={},g=bd();this.i[bb]("T").equalTo(c)[Ha]("value",function(c){c[F](function(c){var g=b(c.val());a[da(c.key(),10)]=g});g[Fb](a)});return g.na}[r](this)[z](function(a){a["@rev"]={R:++this.Ya};return Xe(this.i,a)}[E](this)):Xc()};H.Qc=function(a){return this.oe(a,Kb(null))[z](function(){this.jb[Xa](a);return Xe(this.i[jb]("@table/"+a),null,!0)}[E](this))};Ve[t].dropTable=Ve[t].Qc;
Ve[t].Hc=function(a,b,c){return this.oe(a,function(a){var g=a.P;g[b]=c;return{R:this.Ya+1,T:a.T,P:g}}[E](this))};Ve[t].addTableColumn=Ve[t].Hc;Ve[t].Rc=function(a,b){return this.oe(a,function(a){var d=a.P;delete d[b];return{R:this.Ya+1,T:a.T,P:d}}[E](this))};Ve[t].dropTableColumn=Ve[t].Rc;Ve[t].md=function(a,b,c){return this.oe(a,function(a){var g=a.P;g[c]=g[b];delete g[b];return{R:this.Ya+1,T:a.T,P:g}}[E](this))};Ve[t].renameTableColumn=Ve[t].md;Ve[t].Jb=function(){throw new P(351);};
Ve[t].createRow=Ve[t].Jb;Ve[t].dd=G("Ta");Ve[t].getVersion=Ve[t].dd;Ve[t].uc=function(a){var b=bd();a=this.jb.get(a);this.i[bb]("T").equalTo(a)[Ha]("value",function(a){var d=[];a[F](function(a){d[x](a.val().P)});b[Fb](d)});return b.na};ka(Ve[t],function(){var a={},b=Ed(this.jb).map(function(b){return this.uc(b)[z](function(d){a[b]=d})}[E](this));return ad(b)[z](function(){return a})});ka(Ve[t],Ve[t].dump);
function Ye(a,b,c){pd[r](this,c,b);this.i=a}K(Ye,pd);Ye[t].M=function(a){return this.i.bd(a)};
Ye[t].Nc=function(){var a=this.Nj().jg();if(0==a[Hb])this.ba[Fb]();else{var b=this.i.Zj()+1;this.i.qh(b);var c={"@rev":{R:b}};a[F](function(a,g){var k=this.i.pg(g);a.Wc()[F](function(a,d){c[d]={R:b,T:k,P:a.w()}});a.$c()[F](function(a,d){c[d]={R:b,T:k,P:a[1].w()}});a.Yc()[F](function(a,b){c[b]=null})},this);this.i.Wj()[Ua](c,function(c){if(null===c)this.ba[Fb]();else this.i.qh(b-1),c=Fd(a).map(function(a){return this.i.fh(a[u]())},this),ad(c)[z](this.ba[La][E](this.ba),this.ba[La][E](this.ba))}[E](this))}return this.ba.na};
function Ze(){this.zb=new N}H=Ze[t];H.Qe=function(a){if(0==a[C])return Fd(this.zb);var b=[];a[F](function(a){a=this.zb.get(a)||null;null===a||b[x](a)},this);return b};H.getData=G("zb");H.get=function(a){return Xc(this.Qe(a))};H.kf=function(a){a[F](function(a){this.zb.set(a.id(),a)},this)};H.put=function(a){this.kf(a);return Xc()};H.gh=function(a){0==a[C]||a[C]==this.zb[Hb]?this.zb[w]():a[F](function(a){this.zb[Xa](a)},this)};va(H,function(a){this.gh(a);return Xc()});
H.Oj=function(){return 0==this.zb[Hb]?0:Ed(this.zb)[Ka](function(a,b){return a>b?a:b},0)};
function $e(a,b){this.s=a;this.Nh=b;this.ie=new N;this.Ya=-1;this.I=new N;this.jb=new N;this.we=null}H=$e[t];H.Zj=G("Ya");H.qh=Jb("Ya");
H.Ga=function(a){this.i=this.Nh[jb](this.s[q]());var b=a||function(){return Xc()};return We(this.i,"@db/version")[z](function(a){return null===a?Xe(this.i,this.Ii(),!0)[z](function(){var a=new Ve(0,this.i);return b(a)}[E](this)):a==this.s[ub]()?We(this.i,"@rev/R")[z](function(a){this.Ya=a;return We(this.i,"@table")}[E](this))[z](function(a){for(var b in a)this.jb.set(b,a[b]);a=this.s.ab().map(function(a){return this.fh(a[u]())},this);return ad(a)}[E](this))[z](function(){this.pk();this.Pg();return Xc()}[E](this)):
this.gf(a,b)[z](function(){return this.Ga()}[E](this))}[E](this))};H.gf=function(a,b){var c=new Ve(a,this.i);return c.Ga(this.s)[z](function(){return this.Cl()}[E](this))[z](function(){return b(c)})[z](function(){var a=this.i[jb]("@db");return Xe(a,{version:this.s[ub]()},!0)}[E](this))};H.Cl=function(){return Xc()};H.Pg=function(){this.i.off();this.i.on("child_removed",this.Mk[E](this));this.xe&&(this.xe.off(),this.ie[w]());this.xe=this.i[bb]("R").startAt(this.Ya+1);this.xe.on("value",this.df[E](this))};
H.pk=function(){id=Fd(this.I).map(function(a){return a.Oj()})[Ka](function(a,b){return a>b?a:b},0)+1};H.Mk=function(a){var b=a.val(),c=this.ie.get(b.T)||null;null===c&&(c=Td([b.T]));c.add(da(a.key(),10))};H.df=function(a){var b=a[jb]("@rev/R").val();null!=b&&b!=this.Ya&&(this.Ya=b,a=this.vj(a),a[F](function(a){var b=this.I.get(a[u]()),g=a.Yc().ia();g[C]&&b.gh(g);var k=a.Wc().j();a.$c()[F](function(a){k[x](a[1])});b.kf(k)},this),a[C]&&this.jd(a),this.Pg())};
H.vj=function(a){var b=Td(),c=new N;this.jb[F](function(a,g){var k=this.I.get(g),l=new je(g);if(this.ie.has(a)){var p=Ud(this.ie.get(a));p[F](function(a){b.add(a)});k.Qe(p)[F](function(a){l[Xa](a)})}c.set(a,l)}[E](this));a[F](function(a){if("@rev"!=a.key()){var g=da(a.key(),10);if(!b.has(g)){a=a.val();var k=c.get(a.T),l=this.I.get(k[u]());l.getData().has(g)?k.modify([l.Qe([g])[0],new hd(g,a.P)]):k.add(new hd(g,a.P))}}}[E](this));return Fd(c)[Ga](function(a){return!a.fb()})};
H.fh=function(a){var b=bd(),c=this.pg(a);this.i[bb]("T").equalTo(c)[Ha]("value",function(c){var g=new Ze,k=[];c[F](function(a){k[x](new hd(da(a.key(),10),a.val().P))});g.kf(k);this.I.set(a,g);b[Fb]()}[E](this));return b.na};H.pg=function(a){return this.jb.get(a)};H.Ii=function(){var a={};a["@db"]={version:this.s[ub]()};a["@rev"]={R:1};this.Ya=1;a["@table"]={};this.s.ab()[F](function(b,c){var d=b[u]();a["@table"][d]=c;this.I.set(d,new Ze);this.jb.set(d,c)},this);return a};
H.Ub=function(a,b){return new Ye(this,a,b)};H.bd=function(a){var b=this.I.get(a)||null;if(null!==b)return b;throw new P(101,a);};H.Wj=G("i");oa(H,Ib());Ca(H,Jb("we"));H.jd=function(a){null!=this.we&&this.we(a)};
function Q(a,b,c,d){this.i=b;this.Sa=c;this.Ta=a;this.yd=d}I("lf.backstore.IndexedDBRawBackStore",Q,void 0);Q[t].Sd=G("i");Q[t].getRawDBInstance=Q[t].Sd;Q[t].Td=G("Sa");Q[t].getRawTransaction=Q[t].Td;Q[t].Qc=function(a){return new M(function(b,c){try{this.i.deleteObjectStore(a)}catch(d){c(d);return}b()},this)};Q[t].dropTable=Q[t].Qc;
Q[t].Qk=function(a,b,c){return new M(function(d,g){var k;try{var l=this.Sa[vb](a);k=l[Fa]()}catch(p){g(p);return}sa(k,function(){var a=k[Gb];a?(b(a),a[fb]()):(c(l),d())});za(k,g)},this)};function af(a){var b=null;return b=a instanceof ArrayBuffer?ld(a):a instanceof Date?a[Eb]():a}Q[t].xf=function(a,b){function c(a){var c=Xd(a[v]),d=c.zc(),p;for(p in d){var y=jd(d[p]);b(y);d[p]=y.Ja()}a[Ua](c.Ja())}function d(a){var c=jd(a[v]);b(c);a[Ua](c.Ja())}return this.Qk(a,this.yd?c:d,Ib())};
Q[t].Hc=function(a,b,c){var d=af(c);return this.xf(a,function(a){a.w()[b]=d})};Q[t].addTableColumn=Q[t].Hc;Q[t].Rc=function(a,b){return this.xf(a,function(a){delete a.w()[b]})};Q[t].dropTableColumn=Q[t].Rc;Q[t].md=function(a,b,c){return this.xf(a,function(a){a.w()[c]=a.w()[b];delete a.w()[b]})};Q[t].renameTableColumn=Q[t].md;
Q[t].bk=function(a){var b=[];return new M(function(c,d){var g;try{g=this.Sa[vb](a)[Fa]()}catch(k){d(k);return}sa(g,J(function(){var a=g[Gb];if(a){if(this.yd){var d=Xd(a[v]).zc(),k;for(k in d)b[x](d[k])}else b[x](a[v]);a[fb]()}else c(b)},this));za(g,d)},this)};Q[t].Jb=function(a){var b={};zc(a,J(function(a,d){b[d]=af(a)},this));return kd(b)};Q[t].createRow=Q[t].Jb;Q[t].dd=G("Ta");Q[t].getVersion=Q[t].dd;
ka(Q[t],function(){for(var a=this.i[Ia],b=[],c=0;c<a[C];++c){var d=a[Na](c);b[x](this.uc(d))}return ad(b)[z](function(b){var c={};b[F](function(b,d){c[a[Na](d)]=b});return c})});ka(Q[t],Q[t].dump);Q[t].uc=function(a){return this.bk(a)[z](function(a){return a.map(function(a){return a[v]})})};
function bf(a,b){this.$=a;this.Vb=b}H=bf[t];H.get=function(a){if(0==a[C])return this.Xc();a=a.map(function(a){return new M(function(c,d){var g;try{g=this.$.get(a)}catch(k){d(k);return}za(g,d);sa(g,J(function(a){c(this.Vb(a[Oa][Gb]))},this))},this)},this);return ad(a)};H.Xc=function(){return new M(function(a,b){var c=[],d;try{d=this.$[Fa]()}catch(g){b(g);return}za(d,b);sa(d,J(function(){var b=d[Gb];b?(c[x](this.Vb(b[v])),b[fb]()):a(c)},this))},this)};
H.ec=function(a){return new M(function(b,c){var d;try{d=a()}catch(g){c(g);return}sa(d,b);za(d,c)},this)};H.put=function(a){if(0==a[C])return Xc();a=a.map(function(a){return this.ec(J(function(){return this.$.put(a.Ja())},this))},this);return ad(a)};
va(H,function(a){return new M(function(b,c){var d=this.$[ab]();sa(d,J(function(d){if(0==a[C]||d[Oa][Gb]==a[C])return this.ec(J(function(){return this.$[w]()},this))[z](b,c);d=a.map(function(a){return this.ec(J(function(){return this.$[Xa](a)},this))},this);ad(d)[z](b,c)},this));za(d,c)},this)});
function cf(a,b,c,d,g){pd[r](this,c,d);this.l=a;this.Sa=b;this.yd=g;this.Sa.oncomplete=J(this.ba[Fb],this.ba);this.Sa.onabort=J(this.ba[La],this.ba)}K(cf,pd);cf[t].M=function(a,b,c){return this.yd?(c=null!=c?c:0,a=this.Sa[vb](a),new Yd(a,b,0==c?$b(Zd,this.l):$d)):new bf(this.Sa[vb](a),b)};cf[t].Nc=function(){return this.ba.na};
function df(a,b){this.l=a;this.s=b;this.zd=b.ah().Ui||!1}H=df[t];H.Ga=function(a){var b=ca.indexedDB||ca.mozIndexedDB||ca.webkitIndexedDB||ca.msIndexedDB;if(null==b)throw new P(352);var c=a||function(){return Xc()};return new M(function(a,g){var k;try{k=b.open(this.s[q](),this.s[ub]())}catch(l){g(l);return}za(k,g);k.onupgradeneeded=J(function(a){this.Pk(c,a)[z](Ib(),g)},this);sa(k,J(function(b){this.i=b[Oa][Gb];this.qf()[z](J(function(b){id=b+1;a(this.i)},this))},this))},this)};
H.Pk=function(a,b){var c=b[Oa][Gb],d=b[Oa][lb],g=new Q(b.oldVersion,c,d,this.zd);this.el(c,d);this.Ni(c,d);return a(g)};H.el=function(a){for(var b=[],c=0;c<a[Ia][C];++c){var d=a[Ia][Na](c);-1!=d[Za](".")&&b[x](d)}b[F](function(b){try{a.deleteObjectStore(b)}catch(c){}})};H.Ni=function(a,b){this.s.ab()[F]($b(this.Ki,a,b),this)};H.Ki=function(a,b,c){a[Ia][tb](c[u]())||a.createObjectStore(c[u](),{keyPath:"id"});c.Mb()&&(c.Fa()[F](function(c){this.Pc(a,b,c.m(),"btree")},this),this.Pc(a,b,c.Wb(),"rowid"))};
H.Pc=function(a,b,c,d){a[Ia][tb](c)||(a.createObjectStore(c,{keyPath:"id"}),a=b[vb](c),(this.zd?new Yd(a,jd,$d):new bf(a,jd)).put([new nd(new md(d))]))};H.Ub=function(a,b){var c=Ed(b.ja());b.Lj()[F](function(a){c[x](a)});var d=this.i[lb](c,0==a?"readonly":"readwrite");return new cf(this.l,d,b,a,this.zd)};
H.qf=function(a){function b(){if(0==c[C])return Xc();var a=c[qb]();return l(a)[z](b)}var c=this.s.ab().map(function(a){return a[u]()}),d=this.i,g=0,k=J(function(a){return this.zd?(a=Xd(a[v]),Cc(a.zc())[Ka](function(a,b){return ba.max(a,b)},0)):a.key},this),l=J(function(b){return new M(function(c,l){var sb;try{sb=(a||d[lb]([b]))[vb](b)[Fa](null,"prev")}catch(Hc){l(Hc);return}sa(sb,function(a){(a=a[Oa][Gb])&&(g=ba.max(g,k(a)));c(g)});za(sb,function(){c(g)})},this)},this);return new M(function(a){b()[z](function(){a(g)})})};
oa(H,function(){this.i[Qa]()});H.bd=function(){throw new P(511);};Ca(H,Ib());H.jd=Ib();



function ef(a,b,c){pd[r](this,c,b);this.$=a;0==b&&this.ba[Fb]()}K(ef,pd);ef[t].M=function(a){return this.$.bd(a)};ef[t].Nc=function(){this.ba[Fb]();return this.ba.na};
function ff(a){this.s=a;this.I=new N}H=ff[t];H.Ga=function(){this.s.ab()[F](this.qk,this);return Xc()};H.bd=function(a){var b=this.I.get(a)||null;if(null===b)throw new P(101,a);return b};H.Ub=function(a,b){return new ef(this,a,b)};H.Yf=function(a){if(!this.I.has(a)){var b=new Ze;this.I.set(a,b);return b}return null};H.qk=function(a){this.Yf(a[u]());a.Mb()&&(a.Fa()[F](function(a){this.Pc(a.m(),"btree")},this),this.Pc(a.Wb(),"rowid"))};H.Pc=function(a,b){var c=this.Yf(a);null===c||c.put([new nd(new md(b))])};
oa(H,Ib());Ca(H,Ib());H.jd=Ib();
function gf(a){ff[r](this,a);this.ae=null}K(gf,ff);Ca(gf[t],function(a){null===this.ae&&(this.ae=a)});gf[t].jd=function(a){null===this.ae||this.ae(a)};
function jf(a,b,c){this.Sa=a;this.A=b;this.Vb=c}jf[t].get=function(a){var b=this.Vb;this.Sa.Qa("SELECT id, value FROM "+this.A+" "+(0==a[C]?"":"WHERE id IN ("+a[m](",")+")"),[],function(a){for(var d=a[Cb][C],g=e(d),k=0;k<d;++k)g[k]=b({id:a[Cb][Na](k).id,value:ga.parse(a[Cb][Na](k)[v])});return g});return this.Sa.pa()};jf[t].put=function(a){if(0==a[C])return Xc();var b="INSERT OR REPLACE INTO "+this.A+"(id, value) VALUES (?, ?)";a[F](function(a){this.Sa.Qa(b,[a.id(),ga[yb](a.w())])},this);return Xc()};
va(jf[t],function(a){this.Sa.Qa("DELETE FROM "+this.A+" "+(0==a[C]?"":"WHERE id IN ("+a[m](",")+")"),[]);return Xc()});
function kf(a,b,c){pd[r](this,b,c);this.i=a;this.I=new N;this.De=[]}K(kf,pd);kf[t].M=function(a,b){var c=this.I.get(a)||null;null===c&&(c=new jf(this,a,b),this.I.set(a,c));return c};kf[t].Qa=function(a,b,c){this.De[x]({tl:a,Rk:b,transform:c})};
kf[t].Nc=function(){var a,b,c=this.ba[La][E](this.ba),d=function(a,b){this.ba[La](b)}[E](this),g=J(function(c,l){a=l;if(this.De[C]){var p=this.De[qb]();b=p.transform;c.executeSql(p.tl,p.Rk,g,d)}else p=a,null!=b&&null!=a&&(p=b(a)),this.ba[Fb](p)},this);0==this.zh?this.i.readTransaction(g,c):this.i[lb](g,c);return this.ba.na};
function R(a,b,c){this.i=c;this.l=a;this.Ta=b}I("lf.backstore.WebSqlRawBackStore",R,void 0);R[t].Sd=G("i");R[t].getRawDBInstance=R[t].Sd;R[t].Td=function(){throw new P(356);};R[t].getRawTransaction=R[t].Td;R[t].Gd=function(){return new kf(this.i,new ke(this.l,[]),1)};R[t].Qc=function(a){var b=this.Gd();b.Qa("DROP TABLE "+a,[]);return b.pa()};R[t].dropTable=R[t].Qc;
R[t].uc=function(a){var b=this.Gd();b.Qa("SELECT id, value FROM "+a,[]);return b.pa()[z](function(a){for(var b=a[Cb][C],g=e(b),k=0;k<b;++k)g[k]={id:a[Cb][Na](k).id,value:ga.parse(a[Cb][Na](k)[v])};return Xc(g)})};R[t].wf=function(a,b){var c=this.Gd(),d="UPDATE "+a+" SET value=? WHERE id=?";return this.uc(a)[z](function(a){a[F](function(a){a=b(a);c.Qa(d,[ga[yb](a[v]),a.id])});return c.pa()})};R[t].Hc=function(a,b,c){var d=af(c);return this.wf(a,function(a){a[v][b]=d;return a})};
R[t].addTableColumn=R[t].Hc;R[t].Rc=function(a,b){return this.wf(a,function(a){delete a[v][b];return a})};R[t].dropTableColumn=R[t].Rc;R[t].md=function(a,b,c){return this.wf(a,function(a){a[v][c]=a[v][b];delete a[v][b];return a})};R[t].renameTableColumn=R[t].md;R[t].Jb=function(a){var b={},c;for(c in a)b[c]=af(a[c]);return kd(b)};R[t].createRow=R[t].Jb;R[t].dd=G("Ta");R[t].getVersion=R[t].dd;
function mf(a){a.Qa('SELECT tbl_name FROM sqlite_master WHERE type="table"',[],function(a){for(var c=e(a[Cb][C]),d=0;d<c[C];++d)c[d]=a[Cb][Na](d).tbl_name;return c})}ka(R[t],function(){var a=bd(),b=this.Gd();mf(b);var c={};b.pa()[z](J(function(b){b=b[Ga](function(a){return"__lf_ver"!=a&&"__WebKitDatabaseInfoTable__"!=a}).map(function(a){return this.uc(a)[z](function(b){c[a]=b})},this);ad(b)[z](function(){a[Fb](c)})},this));return a.na});ka(R[t],R[t].dump);
function nf(a,b,c){this.l=a;this.s=b;this.pl=c||4194304}H=nf[t];H.Ld=function(){return new ke(this.l,[])};H.Ga=function(a){if(null==ca.openDatabase)throw new P(353);var b=a||function(){return Xc()};return new M(J(function(a,d){try{var g=ca.openDatabase(this.s[q](),"",this.s[q](),this.pl);if(null!=g)this.i=g,this.zi(b)[z](a,d);else throw new P(354);}catch(k){d(k)}},this))};
H.zi=function(a){var b=bd(),c=new kf(this.i,this.Ld(),1);c.Qa("CREATE TABLE IF NOT EXISTS __lf_ver(id INTEGER PRIMARY KEY, v INTEGER)",[]);c.Qa("SELECT v FROM __lf_ver WHERE id = 0",[]);c.pa()[z](J(function(c){var g=0;c[Cb][C]&&(g=c[Cb][Na](0).v);g<this.s[ub]()?this.gf(a,g)[z](b[Fb][E](b)):g>this.s[ub]()?b[La](new P(108)):b[Fb]()},this));return b.na};H.Ub=function(a,b){if(null!=this.i)return new kf(this.i,b,a);throw new P(2);};oa(H,Ib());H.bd=function(){throw new P(512);};
H.Sg=function(){throw new P(355);};Ca(H,function(){this.Sg()});H.jd=function(){this.Sg()};H.gf=function(a,b){var c=bd();this.Uk()[z](J(function(){a(new R(this.l,b,this.i))[z](J(function(){return this.qf()},this))[z](c[Fb][E](c))},this),c[La][E](c));return c.na};
H.Uk=function(){var a=this.s.ab(),b=new kf(this.i,this.Ld(),1),c=new kf(this.i,this.Ld(),1);b.Qa("INSERT OR REPLACE INTO __lf_ver VALUES (0, ?)",[this.s[ub]()]);mf(b);return b.pa()[z](function(b){b[Ga](function(a){return-1!=a[Za](".")})[F](function(a){c.Qa("DROP TABLE "+a,[])});var g=b[Ga](function(a){return-1==a[Za](".")});a.map(function(a){return a[u]()})[Ga](function(a){return-1==g[Za](a)})[F](function(a){c.Qa("CREATE TABLE "+a+"(id INTEGER PRIMARY KEY, value TEXT)",[])});return c.pa()})};
H.qf=function(){var a=0,b=bd(),c=J(function(b){var c=new kf(this.i,this.Ld(),0);c.Qa("SELECT MAX(id) FROM "+b,[]);return c.pa()[z](function(b){b=b[Cb][Na](0)[0];a=ba.max(b,a)})},this),d=this.s.ab().map(function(a){return c(a[u]())});ad(d)[z](function(){b[Fb](a)},function(a){b[La](a)});return b.na};

function of(){this.g=new N;this.vh=new N}H=of[t];H.Ud=function(a){var b=this.vh.get(a);Mb(b)||(b=Td(),this.vh.set(a,b));return b};H.set=function(a,b){var c=this.Ud(a);b[F](J(function(a){this.g.set(a.id(),a);c.add(a.id())},this))};H.get=function(a){return a.map(J(function(a){return this.g.get(a)||null},this))};
H.pb=function(a,b,c){var d=[],g=ba.min(b,c),k=ba.max(b,c);a=this.Ud(a);if(a[Hb]<k-g)a[F](function(a){a>=g&&a<=k&&(a=this.g.get(a),L(null!=a,"Inconsistent cache"),d[x](a))},this);else for(b=g;b<=k;++b)a.has(b)&&(c=this.g.get(b),L(null!=c,"Inconsistent cache"),d[x](c));return d};va(H,function(a,b){var c=this.Ud(a);b[F](function(a){this.g[Xa](a);c[Xa](a)},this)});H.Ma=function(a){return null!=a?this.Ud(a)[Hb]:this.g[Hb]};
function pf(a,b,c,d){a=b?a[eb]():a;if(null==c&&null==d)return a;c=ba.min(Mb(c)?c:a[C],a[C]);if(0==c)return[];d=ba.min(d||0,a[C]);return a[n](d,d+c)};
function qf(){this.ua=0}qf[t].add=function(a,b){this.ua+=b};va(qf[t],function(a,b){this.ua-=b});ta(qf[t],function(){this.ua=0});qf[t].Bl=function(a){this[w]();a[F](function(a){this.ua+=a.ua},this)};
function rf(a,b,c,d){this.A=a;this.U=b;this.zf=c;this.wb=new qf;if(d){a=511;a*=a*a;if(d[C]>=a)throw new P(6,a);d=sf(this,d);this.sa=d=tf(d)}else this[w]()}var uf=[];H=rf[t];na(H,G("A"));f(H,function(){return this.sa[D]()});H.add=function(a,b){this.sa=this.sa.Eb(a,b)};H.set=function(a,b){this.sa=this.sa.Eb(a,b,!0)};va(H,function(a,b){this.sa=this.sa[ib](a,b)});H.get=function(a){return this.sa.get(a)};
H.Fd=function(a){if(null==a)return this.$a().ua;if(a instanceof le){if(a.zg())return this.$a().ua;if(a.Eg())return this.get(a.c)[C]}return this.pb([a])[C]};H.$a=G("wb");H.Xc=function(a,b,c,d){c=e(a);this.sa.fill({offset:b?this.wb.ua-a-d:d,count:a,vf:0},c);return b?c[eb]():c};
H.pb=function(a,b,c,d){var g=this.sa.Od().b[0];if(!Mb(g)||0==c)return uf;b=b||!1;c=null!=c?ba.min(c,this.wb.ua):this.wb.ua;d=d||0;var k=ba.min(ba.max(this.wb.ua-d,0),c);if(0==k)return uf;if(!Mb(a)||1==a[C]&&a[0]instanceof le&&a[0].zg())return this.Xc(k,b,c,d);a=this.U.th(a);var l=e(b?this.wb.ua:k),p={count:0,Z:l[C],reverse:b,O:d};a[F](function(a){for(var b=this.U.ge(a),b=this.U.We(a)?g:b[0],b=this.sa.ig(b),c=p[ab],d=0;null!=b&&p[ab]<p.Z;)b.pb(a,p,l),p[ab]!=c?(d=0,c=p[ab]):d++,b=2==d?null:b[pb]()},
this);l[A](p[ab],k-p[ab]);return b?pf(l,b,c,d):l};ta(H,function(){this.sa=vf(this);this.wb[w]()});H.K=function(a){return this.sa.K(a)};H.min=function(){return this.hd(J(this.U.min,this.U))};H.max=function(){return this.hd(J(this.U.max,this.U))};H.hd=function(a){var b=this.sa.Od(),c=this.sa.og();if(0==b.b[C]&&0==c.b[C])return null;var d=b.b[0],b=b.B[0],g=c.b[c.b[C]-1],c=c.B[c.b[C]-1];return 1==a(d,g)?[d,this.zf?[b]:b]:[g,this.zf?[c]:c]};H.Na=G("zf");H.Oc=G("U");
H.af=function(a,b){return null!=a?-1==this.U[Ab](a,b):!1};H.Va=function(a,b){return null!=a?0==this.U[Ab](a,b):!1};H.Ja=function(){for(var a=[],b=this.sa.Od();b;)a[x](new hd(b.za,[b.b,b.B])),b=b.Aa;return a};function wf(a,b,c,d){a=new rf(b,a,c);d=xf(d,a);a.sa=d;return a}function yf(a,b){this.za=a;this.C=b;this.rb=0;this.Aa=this.Fb=this.F=null;this.b=[];this.B=[];this.h=[]}function vf(a){return new yf(id++,a)}H=yf[t];H.ma=function(){return 0==this.rb};H.Ig=function(){return null==this.F};xa(H,G("Aa"));
function zf(a){function b(a){return null!=a?a.za[D]():"_"}var c=a.za+"["+a.b[m]("|")+"]",d=a.h.map(function(a){return a.za})[m]("|"),g=a.B[m]("/"),k=b(a.Fb)+"{",k=a.ma()?k+g:k+d,k=k+"}"+b(a.F);a.Aa&&(a=zf(a.Aa),c=c+"  "+a[0],k=k+"  "+a[1]);return[c,k]}f(H,function(){var a="",b=zf(this),a=a+(b[0]+"\n"+b[1]+"\n");this.h[C]&&(a+=this.h[0][D]());return a});H.Od=function(){return this.ma()?this:this.h[0].Od()};H.og=function(){return this.ma()?this:this.h[this.h[C]-1].og()};
function Af(a,b){b&&(b.Fb=a);a&&(a.Aa=b)}function sf(a,b){for(var c=b[C],d=0,g=vf(a),k=g;0<c;){var l=768<=c?511:257<=c&&511>=c?c:257,p=b[n](d,d+l);g.b=p.map(function(a){return a.key});g.B=p.map(function(a){return a[v]});d+=l;c-=l;0<c&&(l=vf(g.C),Af(g,l),g=l)}return k}function Bf(a){var b=a[0],c=vf(b.C);c.rb=b.rb+1;c.h=a;for(b=0;b<a[C];++b)a[b].F=c,0<b&&c.b[x](a[b].b[0]);return c}
function tf(a){var b=a,c=[];do c[x](b),b=b.Aa;while(b);if(512>=c[C])b=Bf(c);else{var d=c[C],g=0,b=vf(a.C);for(b.rb=a.rb+2;0<d;){a=768<=d?511:257<=d&&511>=d?d:257;var k=c[n](g,g+a),l=Bf(k);l.F=b;b.h[C]&&(b.b[x](k[0].b[0]),Af(b.h[b.h[C]-1],l));b.h[x](l);g+=a;d-=a}}return b}H.get=function(a){var b=this.od(a);if(this.ma()){var c=uf;this.C.Va(this.b[b],a)&&(c=c[Ra](this.B[b]));return c}b=this.C.Va(this.b[b],a)?b+1:b;return this.h[b].get(a)};
H.K=function(a){var b=this.od(a);return this.C.Va(this.b[b],a)?!0:this.ma()?!1:this.h[b].K(a)};va(H,function(a,b){this.ag(a,-1,b);if(this.Ig()){var c=this;1==this.h[C]&&(c=this.h[0],c.F=null);return c}return this});function Cf(a){return a.ma()?a.b[0]:Cf(a.h[0])}H.Id=function(){this.b=[];for(var a=1;a<this.h[C];++a)this.b[x](Cf(this.h[a]))};
H.ag=function(a,b,c){var d=this.od(a),g=this.ma();if(!g){var k=this.C.Va(this.b[d],a)?d+1:d;if(this.h[k].ag(a,k,c))this.Id();else return!1}else if(!this.C.Va(this.b[d],a))return!1;if(this.b[C]>d&&this.C.Va(this.b[d],a)){if(Mb(c)&&!this.C.Na()&&g&&(k=this.B[d],c=uc(k,vc,!1,c),0<=c&&oc(k,c)&&this.C.$a()[ib](a,1),this.B[d][C]))return!1;this.b[A](d,1);g&&(g=this.C.Na()?1:this.B[d][C],this.B[A](d,1),this.C.$a()[ib](a,g))}256>this.b[C]&&!this.Ig()&&(this.ul()||this.Ik(b));return!0};
H.ul=function(){var a=null,b,c,d;if(this.Aa&&256<this.Aa.b[C])a=this.Aa,c=b=0,d=this.b[C]+1;else if(this.Fb&&256<this.Fb.b[C])a=this.Fb,b=this.Fb.b[C]-1,c=this.ma()?b:b+1,d=0;else return!1;this.b[A](d,0,a.b[b]);a.b[A](b,1);b=this.ma()?this.B:this.h;var g=null;this.ma()?g=a.B:(g=a.h,g[c].F=this);b[A](d,0,g[c]);g[A](c,1);a.ma()||(a.Id(),this.Id());return!0};
H.Ik=function(a){var b,c,d;this.Aa&&511>this.Aa.b[C]?(b=this.Aa,d=c=0):this.Fb&&(b=this.Fb,c=b.b[C],d=b.ma()?b.B[C]:b.h[C]);c=[c,0][Ra](this.b);e[t][A][xb](b.b,c);c=null;this.ma()?c=this.B:(c=this.h,c[F](function(a){a.F=b}));c=[d,0][Ra](c);e[t][A][xb](b.ma()?b.B:b.h,c);Af(this.Fb,this.Aa);b.ma()||b.Id();-1!=a&&(this.F.b[A](a,1),this.F.h[A](a,1))};
H.Eb=function(a,b,c){var d=this.od(a);if(this.ma()){if(this.C.Va(this.b[d],a)){if(c)this.C.$a()[ib](a,this.C.Na()?1:this.B[d][C]),this.B[d]=this.C.Na()?b:[b];else{if(this.C.Na())throw new P(201);if(!wc(this.B[d],b))throw new P(109);}this.C.$a().add(a,1);return this}this.b[A](d,0,a);this.B[A](d,0,this.C.Na()?b:[b]);this.C.$a().add(a,1);return 512==this.b[C]?this.rl():this}d=this.C.Va(this.b[d],a)?d+1:d;a=this.h[d].Eb(a,b,c);a.ma()||1!=a.b[C]||(this.b[A](d,0,a.b[0]),a.h[1].F=this,a.h[0].F=this,this.h[A](d,
1,a.h[1]),this.h[A](d,0,a.h[0]));return 512==this.b[C]?this.ql():this};H.rl=function(){var a=vf(this.C),b=vf(this.C);b.rb=1;b.b=[this.b[256]];b.h=[this,a];b.F=this.F;this.F=b;a.b=this.b[A](256);a.B=this.B[A](256);a.F=b;Af(a,this.Aa);Af(this,a);return b};H.ql=function(){var a=vf(this.C),b=vf(this.C);a.F=this.F;a.rb=this.rb+1;a.b=[this.b[256]];a.h=[this,b];this.b[A](256,1);b.F=a;b.rb=this.rb;b.b=this.b[A](256);b.h=this.h[A](257);b.h[F](function(a){a.F=b});this.F=a;Af(b,this.Aa);Af(this,b);return a};
H.od=function(a){for(var b=0,c=this.b[C];b<c;){var d=b+c>>1;this.C.af(this.b[d],a)?b=d+1:c=d}return b};H.ig=function(a){if(!this.ma()){var b=this.od(a);this.C.Va(this.b[b],a)&&b++;return this.h[b].ig(a)}return this};
H.pb=function(a,b,c){function d(a){return a[0]?a[1]?0:1:-1}var g=this.C.Oc(),k=0,l=this.b[C]-1,p=this.b,y=d(g.yb(p[k],a)),ya=d(g.yb(p[l],a));if(1!=y&&(-1!=y||-1!=ya)){var sb=function(a,b){var c=a+b>>1;return c==a?c+1:c},Hc=function(b,c,k){if(b>=c)return 0==k?c:-1;var l=d(g.yb(p[b],a));if(0==l)return b;if(1==l)return-1;l=sb(b,c);if(l==c)return 0==k?c:-1;var y=d(g.yb(p[l],a));return 0==y?Hc(b,l,y):-1==y?Hc(l+1,c,k):Hc(b+1,l,y)},hf=function(b,c){if(b>=c)return b;var k=d(g.yb(p[c],a));if(0==k)return c;
if(-1==k)return b;k=sb(b,c);if(k==c)return b;var l=d(g.yb(p[k],a));return 0==l?hf(k,c):1==l?hf(b,k-1):-1};0!=y&&(k=Hc(k+1,l,ya));-1!=k&&(l=hf(k,l),-1!=l&&l>=k&&this.Ph(b,c,k,l+1))}};H.Ph=function(a,b,c,d){for(;c<d&&(a[eb]||!(a[ab]>=a.Z));++c)if(this.C.Na())!a[eb]&&a.O?a.O--:b[a.count++]=this.B[c];else for(var g=0;g<this.B[c][C]&&a[ab]<b[C];++g)!a[eb]&&a.O?a.O--:b[a.count++]=this.B[c][g]};
H.fill=function(a,b){if(this.ma())for(var c=0;c<this.B[C]&&0<a[ab];++c)if(0<a[wb]){if(a.offset=a[wb]-(this.C.Na()?1:this.B[c][C]),0>a[wb])for(var d=this.B[c][C]+a[wb];d<this.B[c][C]&&0<a[ab];++d)b[a.vf++]=this.B[c][d],a.count--}else if(this.C.Na())b[a.vf++]=this.B[c],a.count--;else for(d=0;d<this.B[c][C]&&0<a[ab];++d)b[a.vf++]=this.B[c][d],a.count--;else for(c=0;c<this.h[C]&&0<a[ab];++c)this.h[c].fill(a,b)};
function xf(a,b){for(var c=b.$a(),d=a.map(function(a){var d=new yf(a.id(),b);d.b=a.w()[0];d.B=a.w()[1];d.b[F](function(a,g){c.add(a,b.Na()?1:d.B[g][C])});return d}),g=0;g<d[C]-1;++g)Af(d[g],d[g+1]);return 1<d[C]?tf(d[0]):d[0]};
function Df(a){if(1==a.f[C])return new Ef(a.f[0].tb);a=a.f.map(function(a){return a.tb});return new Ff(a)}function Ef(a){this.Dd=0==a?Gf:Hf;this.bf=0==a?function(a){return null!=a?a[eb]():null}:function(a){return a||null};this.Wg=0==a?If:Jf}K(Ef,ae);function Hf(a,b){return a>b?1:a<b?-1:0}function Gf(a,b){return Hf(b,a)}function Jf(a,b){return oe(a,b)}function If(a,b){return oe(b,a)}H=Ef[t];
H.yb=function(a,b){var c=this.bf(b),d=[null===c.c,null===c.u];if(!d[0]){var g=this.Dd(a,c.c);d[0]=c.Y?1==g:-1!=g}d[1]||(g=this.Dd(a,c.u),d[1]=c.da?-1==g:1!=g);return d};H.compare=function(a,b){return this.Dd(a,b)};H.min=function(a,b){return a<b?1:a==b?0:-1};H.max=function(a,b){return a>b?1:a==b?0:-1};H.Ve=function(a,b){var c=this.yb(a,b);return c[0]&&c[1]};H.Vg=function(a,b){return this.Wg(a,b)};H.th=function(a){return a[Ga](function(a){return null!==a})[Ya](J(function(a,c){return this.Wg(a,c)},this))};
H.We=function(a){return Qb(this.bf(a).c)};H.ge=function(a){a=this.bf(a);return[a.c,a.u]};f(H,function(){return this.Dd==Gf?"SimpleComparator_DESC":"SimpleComparator_ASC"});function Ff(a){this.La=a.map(function(a){return new Ef(a)})}K(Ff,ae);H=Ff[t];H.Je=function(a,b,c){for(var d=0,g=0;g<this.La[C]&&0==d;++g)d=c(this.La[g],a[g],b[g]);return d};H.compare=function(a,b){return this.Je(a,b,function(a,b,g){return a[Ab](b,g)})};H.min=function(a,b){return this.Je(a,b,function(a,b,g){return a.min(b,g)})};
H.max=function(a,b){return this.Je(a,b,function(a,b,g){return a.max(b,g)})};H.yb=function(a,b){for(var c=[!0,!0],d=0;d<this.La[C]&&(c[0]||c[1]);++d){var g=this.La[d].yb(a[d],b[d]);c[0]=c[0]&&g[0];c[1]=c[1]&&g[1]}return c};H.Ve=function(a,b){for(var c=!0,d=0;d<this.La[C]&&c;++d)c=this.La[d].Ve(a[d],b[d]);return c};
H.th=function(a){var b=a[Ga](function(a){return a[Ta](Rb)});a=e(this.La[C]);for(var c=0;c<a[C];c++)a[c]=b.map(function(a){return a[c]});a[F](function(a,b){a[Ya](J(function(a,c){return this.La[b].Vg(a,c)},this))},this);b=e(b[C]);for(c=0;c<b[C];c++)b[c]=a.map(function(a){return a[c]});return b[Ya](J(function(a,b){for(var c=0,l=0;l<this.La[C]&&0==c;++l)c=this.La[l].Vg(a[l],b[l]);return c},this))};H.We=function(a){return this.La[0].We(a[0])};
H.ge=function(a){var b=a.map(function(a,b){return this.La[b].ge(a)[0]},this);a=a.map(function(a,b){return this.La[b].ge(a)[1]},this);return[b,a]};
function Kf(a){this.ra=a;this.sb=Td();this.pd=new qf;this.wb=new qf}H=Kf[t];na(H,function(){return this.ra[u]()});H.add=function(a,b){null===a?(this.sb.add(b),this.pd.add(a,1)):this.ra.add(a,b)};H.set=function(a,b){null===a?(this.sb[w](),this.pd[w](),this.add(a,b)):this.ra.set(a,b)};va(H,function(a,b){if(null===a)b?(this.sb[Xa](b),this.pd[ib](a,1)):(this.sb[w](),this.pd[w]());else this.ra[ib](a,b)});H.get=function(a){return null===a?Ud(this.sb):this.ra.get(a)};H.Fd=function(a){return this.ra.Fd(a)};
H.$a=function(){this.wb.Bl([this.ra.$a(),this.pd]);return this.wb};H.pb=function(a,b,c,d){b=this.ra.pb(a,b,c,d);return null!=a?b:b[Ra](Ud(this.sb))};ta(H,function(){this.sb[w]();this.ra[w]()});H.K=function(a){return null===a?0!=this.sb[Hb]:this.ra.K(a)};H.min=function(){return this.ra.min()};H.max=function(){return this.ra.max()};H.Ja=function(){return[new hd(-2,Ud(this.sb))][Ra](this.ra.Ja())};H.Oc=function(){return this.ra.Oc()};
function Lf(a,b){for(var c=-1,d=0;d<b[C];++d)if(-2==b[d].id()){c=d;break}if(-1==c)throw new P(102);var d=b[c].w(),g=b[n](0);g[A](c,1);var c=a(g),k=new Kf(c);d[F](function(a){k.sb.add(a)});return k}H.Na=function(){return this.ra.Na()};
function Mf(a){this.A=a;this.vb=Td();this.U=new Ef(1)}H=Mf[t];na(H,G("A"));H.add=function(a){if("number"!=typeof a)throw new P(103);this.vb.add(a)};H.set=function(a,b){this.add(a,b)};va(H,function(a){this.vb[Xa](a)});H.get=function(a){return this.K(a)?[a]:[]};H.min=function(){return this.hd(J(this.U.min,this.U))};H.max=function(){return this.hd(J(this.U.max,this.U))};
H.hd=function(a){if(0==this.vb[Hb])return null;var b=Ud(this.vb)[Ka](J(function(b,d){return null===b||1==a(d,b)?d:b},this),null);return[b,[b]]};H.Fd=function(){return this.vb[Hb]};H.pb=function(a,b,c,d){var g=a||[ne()];a=Ud(this.vb)[Ga](function(a){return g[$a](function(b){return this.U.Ve(a,b)},this)},this);return pf(a,b,c,d)};ta(H,function(){this.vb[w]()});H.K=function(a){return this.vb.has(a)};H.Ja=function(){return[new hd(0,Ud(this.vb))]};H.Oc=G("U");
function Nf(a,b){var c=new Mf(a);b[0].w()[F](function(a){c.add(a,a)});return c}H.Na=Kb(!0);H.$a=function(){var a=new qf;a.ua=this.vb[Hb];return a};
function Of(a){this.l=a;this.Ib=a.o(Hd);this.H=a.o(Jd);this.va=a.o(Id)}H=Of[t];H.Ga=function(a){var b=a.ab(),c=J(function(){if(0==b[C])return Xc();var a=b[qb]();return(a.Mb()?this.jj(a):this.kj(a))[z](c)},this);return c()};H.kj=function(a){var b=new ke(this.l,[a]);return this.Ib.Ub(0,b).M(a[u](),J(a.tc,a)).get([])[z](J(function(b){this.va.set(a[u](),b);this.$k(a,b)},this))};H.$k=function(a,b){var c=this.H.qg(a[u]());b[F](function(a){c[F](function(b){var c=a.$b(b[u]());b.add(c,a.id())})})};
H.jj=function(a){var b=new ke(this.l,[a]),c=this.Ib.Ub(0,b),b=c.M(a[u](),a.tc).get([])[z](J(function(b){this.va.set(a[u](),b)},this)),d=a.Fa().map(function(a){return this.al(a,c)},this)[Ra](this.bl(a,c));return ad(d[Ra](b))};H.al=function(a,b){var c=b.M(a.m(),jd,1),d=Df(a);return c.get([])[z](J(function(b){L("btree"==b[0].w().type);if(1<b[C]){if(a.vg()){var c=wf[E](void 0,d,a.m(),a.fd);b=Lf(c,b[n](1))}else b=wf(d,a.m(),a.fd,b[n](1));this.H.set(a.qd,b)}},this))};
H.bl=function(a,b){return b.M(a.Wb(),jd,1).get([])[z](J(function(b){L("rowid"==b[0].w().type);1<b[C]&&(b=Nf(a.Wb(),b[n](1)),this.H.set(a[u](),b))},this))};

function Pf(){this.$=new N;this.me=new N}Pf[t].Ga=function(a){a.ab()[F](function(a){var c=[];this.me.set(a[u](),c);var d=a.Wb();if(null===this.get(d)){var g=new Mf(d);c[x](g);this.$.set(d,g)}a.Fa()[F](function(a){var b;b=Df(a);b=new rf(a.m(),b,a.fd);b=a.vg()?new Kf(b):b;c[x](b);this.$.set(a.m(),b)},this)},this);return Xc()};Pf[t].get=function(a){return this.$.get(a)||null};
Pf[t].set=function(a,b){var c=this.me.get(a)||null;null===c&&(c=[],this.me.set(a,c));for(var d=null,g=0;g<c[C];g++)if(c[g][u]()==b[u]()){d=g;break}null!==d&&0<c[C]?c[A](d,1,b):c[x](b);this.$.set(b[u](),b)};Pf[t].qg=function(a){return this.me.get(a)||[]};
function Qf(a){this.hb=[];Mb(a)&&this.add(a)}H=Qf[t];f(H,function(){return this.hb.map(function(a){return a[D]()})[m](",")});H.K=function(a){return this.hb[$a](function(b){return b[tb](a)})};H.j=G("hb");
H.add=function(a){if(0!=a[C])if(a=this.hb[Ra](a),1==a[C])this.hb=a;else{a[Ya](oe);for(var b=[],c=a[0],d=1;d<a[C];++d)if(c.Xg(a[d])){var g=a[d],k=ne();if(null!==c.c&&null!==g.c){var l=me(c.c,g.c,!0);1!=l?(k.c=c.c,k.Y=0!=l?c.Y:c.Y&&g.Y):(k.c=g.c,k.Y=g.Y)}null!==c.u&&null!==g.u&&(l=me(c.u,g.u,!1),-1!=l?(k.u=c.u,k.da=0!=l?c.da:c.da&&g.da):(k.u=g.u,k.da=g.da));c=k}else b[x](c),c=a[d];b[x](c);this.hb=b}};
H.Sc=function(a){return this.hb[C]==a.hb[C]?0==this.hb[C]||this.hb[Ta](function(b,c){return b.Sc(a.hb[c])}):!1};function Rf(a,b){var c=[];a.j().map(function(a){return b.j().map(function(b){var c;if(a.Xg(b)){c=ne();var l=me(a.c,b.c,!0),l=0==l?a.Y?a:b:-1!=l?a:b;c.c=l.c;c.Y=l.Y;null===a.u||null===b.u?b=null===a.u?b:a:(l=me(a.u,b.u,!1),b=0==l?a.da?a:b:-1==l?a:b);c.u=b.u;c.da=b.da}else c=null;return c})})[F](function(a){c=c[Ra](a)});return new Qf(c[Ga](function(a){return null!==a}))};
function Sf(a,b){var c=[],d=null,g=null;a.Ec(function(a){var l=b(a);null==a[Bb]()?g=l:d.oa(l);var p=a[Bb]();null!==p&&p.ya()==d.ya()&&(p=c[Za](d),-1!=p&&c[A](p,1));1<a.ya()&&c[x](l);d=a.Cg()?c[c[C]-1]:l});return g}function Tf(a){return Uf(a,function(a){return a.Cg()})}function Vf(a){var b=a[Bb](),c=0;null!==b&&(c=b.ea()[Za](a),b[hb](a));var d=a.ea()[n]();d[F](function(d,k){a[hb](d);null===b||b.Gc(d,c+k)});return{parent:b,children:d}}
function Wf(a,b){a.ea()[n]()[F](function(c){a[hb](c);b.oa(c)});a.oa(b)}function Xf(a){L(1==a.ya());var b=a.Ab(0);L(1==b.ya());Vf(a);Wf(b,a);return b}function Yf(a,b,c){L(1==a.ya());var d=a.Ab(0);L(1<d.ya());var g=d.ea()[n]();if(!g[$a](function(a){return b(a)}))return a;Vf(a);g[F](function(g,l){if(b(g)){var p=c(a);d.he(l);p.oa(g);d.Gc(p,l)}});return d}function Zf(a,b,c,d){var g=a[Bb]();null!==g&&(a=g.ea()[Za](a),g.he(a),g.Gc(c,a));b.ea()[n]()[F](function(a){b[hb](a);d.oa(a)});return c}
function Uf(a,b,c){function d(a){b(a)&&g[x](a);null!=c&&c(a)||a.ea()[F](d)}var g=[];d(a);return g}function $f(a,b){var c=b||function(a){return a[D]()+"\n"},d="";a.Ec(function(a){for(var b=0;b<a.Jj();b++)d+="-";d+=c(a)});return d};

function ag(a){Ie[r](this);this.cc=a;this.eb=!1}K(ag,Ie);H=ag[t];H.Tb=function(){return Sf(this,function(a){if(a instanceof ag){var b=new ag(a.cc);b.eb=a.eb;b.tf(a.fa());return b}return a.Tb()}[E](this))};H.ob=function(a){var b=a||[];this.Ec(function(a){a!=this&&a.ob(b)}[E](this));return(new O(b)).j()};H.le=function(a){this.eb!=a&&(this.eb=a,this.cc="and"==this.cc?"or":"and",this.ea()[F](function(b){return b.le(a)}))};H.eval=function(a){var b=this.ea().map(function(b){return b.eval(a)});return this.Ci(b)};
H.Ci=function(a){return"and"==this.cc?te(a):ue(a)};f(H,function(){return"combined_pred_"+this.cc[D]()});function bg(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b};function cg(){this[w]()}var dg=aa[t][Wa],eg=aa[t][rb];H=cg[t];H.set=function(a,b){this.wd(a);var c=!this.ed(a);this.g[a]=b;if("__proto__"==a||!fg&&!dg[r](this.g,a)){delete this.g[a];var d=ic(this.Ob,a);if(c=0>d)d=this.Ob[C];this.Ob[d]=a;this.je[d]=b}c&&this.aa++};H.get=function(a,b){this.wd(a);if(this.ed(a))return this.g[a];var c=ic(this.Ob,a);return 0<=c?this.je[c]:b};
va(H,function(a){this.wd(a);if(this.ed(a))return this.aa--,delete this.g[a],!0;a=ic(this.Ob,a);return 0<=a?(this.aa--,oc(this.Ob,a),oc(this.je,a),!0):!1});H.addAll=function(a){jc(a.ia(),function(b){this.set(b,a.get(b))},this)};H.fb=function(){return!this.aa};H.Ma=G("aa");H.K=function(a){this.wd(a);return this.ed(a)||0<=ic(this.Ob,a)};H.Ed=function(a){return Ac(this.g,function(b,c){return this.ed(c)&&bg(b,a)},this)||0<=ic(this.je,a)};
H.ia=function(){var a;if(gg)a=qc(aa.keys(this.g));else{a=[];for(var b in this.g)eg[r](this.g,b)&&a[x](b)}rc(a,this.Ob);return a};H.j=function(){for(var a=[],b=this.ia(),c=0;c<b[C];c++)a[x](this.get(b[c]));return a};H.getEntries=function(){for(var a=[],b=this.ia(),c=0;c<b[C];c++){var d=b[c];a[x]([d,this.get(d)])}return a};ta(H,function(){this.g=fg?aa[kb](null):{};this.Ob=[];this.je=[];this.aa=0});la(H,function(){var a=new cg;a[gb](this);return a});
H.ed=function(a){return"__proto__"==a?!1:fg?a in this.g:eg[r](this.g,a)};H.wd=function(a){L(Tb(a),"key must be a string.")};var fg=!!aa[kb],gg=!!aa.keys;function hg(){this[w]()}H=hg[t];H.aa=0;ta(H,function(){this.aa=0;this.g=new cg});la(H,function(){var a=new hg;a.Ih(this);return a});H.add=function(a,b){var c=this.g.get(a);c||this.g.set(a,c=[]);c[x](b);this.aa++};H.Ih=function(a){jc(a.getEntries(),function(a){this.add(a[0],a[1])},this)};H.get=function(a){return(a=this.g.get(a))?qc(a):[]};va(H,function(a,b){var c=this.g.get(a);if(!c)return!1;var d=pc(c,function(a){return bg(b,a)});d&&(this.aa--,0==c[C]&&this.g[ib](a));return d});H.fb=function(){return!this.aa};
H.Ma=G("aa");H.K=function(a){return this.g.K(a)};H.Ed=function(a){return mc(this.g.j(),function(b){return mc(b,function(b){return bg(b,a)})})};H.ia=function(){return this.g.ia()};H.j=function(){return yc(this.g.j())};H.getEntries=function(){for(var a=this.ia(),b=[],c=0;c<a[C];c++)for(var d=a[c],g=this.get(d),k=0;k<g[C];k++)b[x]([d,g[k]]);return b};
function ig(a,b,c){Ie[r](this);this.Oa=a;this.Da=b;this.L=c;this.cf=null;this.Hd=Ae.Me().Ke(this.Oa.X(),this.L)}K(ig,Ie);H=ig[t];H.Tb=function(){var a=new ig(this.Oa,this.Da,this.L);a.tf(this.fa());return a};H.ob=function(a){return null!=a?(a[x](this.Oa),a[x](this.Da),a):[this.Oa,this.Da]};H.reverse=function(){var a=this.L;switch(this.L){case "gt":a="lt";break;case "lt":a="gt";break;case "gte":a="lte";break;case "lte":a="gte"}return new ig(this.Da,this.Oa,a)};
H.eval=function(a){var b=a[B][Ga](function(a){var b=a.V(this.Oa);a=a.V(this.Da);return this.Hd(b,a)},this);return new pe(b,a.W())};f(H,function(){return"join_pred("+this.Oa.m()+", "+this.Da.m()+")"});H.Jf=function(a){return-1!=a.W()[Za](this.Oa.M().qa())};H.Qh=function(a){return-1!=a.W()[Za](this.Da.M().qa())};H.Ri=function(a,b){var c=null,d=null;this.Jf(a)?(this.Lf(a,b),c=a,d=b):(this.Lf(b,a),c=b,d=a);return[c,d]};
H.Lf=function(a,b){L(this.Jf(a),"Mismatch between join predicate left operand and right relation.");L(this.Qh(b),"Mismatch between join predicate right operand and right relation.")};H.Yi=function(a,b,c){var d=[a,b];c||(d=this.Ri(a,b));a=d[0];d=d[1];return"eq"==this.L?this.Zi(a,d,c):this.$i(a,d,c)};H.Ji=function(a){var b={};a.ob()[F](function(a){b[a[u]()]=null});return b};H.Xf=function(a,b){null===this.cf&&(this.cf=this.Ji(this.Da.M()));var c=new we(new hd(-1,this.cf),!1);return ye(a,b,c,[this.Da.M().qa()])};
H.$i=function(a,b,c){for(var d=[],g=a.W(),k=b.W(),l=0;l<a[B][C];l++){for(var p=!1,y=0;y<b[B][C];y++)if(this.Hd(a[B][l].V(this.Oa),b[B][y].V(this.Da))){var p=!0,ya=ye(a[B][l],g,b[B][y],k);d[x](ya)}c&&!p&&d[x](this.Xf(a[B][l],g))}a=a.W()[Ra](b.W());return new pe(d,a)};
H.Zi=function(a,b,c){var d=a,g=b,k=this.Oa,l=this.Da;if(c||a[B][C]>b[B][C])d=b,g=a,k=this.Da,l=this.Oa;var p=new hg,y=[];d[B][F](function(a){var b=ha(a.V(k));p.add(b,a)});var ya=d.W(),sb=g.W();g[B][F](function(a){var b=ha(a.V(l));p.K(b)?p.get(b)[F](function(b){b=ye(a,sb,b,ya);y[x](b)}):c&&y[x](this.Xf(a,sb))}[E](this));a=a.W()[Ra](b.W());return new pe(y,a)};
function jg(a,b,c){return null===b?new Ke(a,b,c):Mb(b.m)?new ig(a,b,c):new Ke(a,b,c)};
var kg={};I("lf.schema.DataStoreType",kg,void 0);kg.INDEXED_DB=0;kg.MEMORY=1;kg.LOCAL_STORAGE=2;kg.FIREBASE=3;kg.WEB_SQL=4;kg.OBSERVABLE_STORE=5;function lg(a,b,c,d){this.qd=a;ja(this,b);this.fd=c;this.f=d}lg[t].m=function(){return this.qd+"."+this[q]};lg[t].vg=function(){return this.f[$a](function(a){return a.ga.Zb()})};function S(a,b,c,d){this.A=a;this.la=c;this.G=b;this.ce=d;this.lb=null}I("lf.schema.Table",S,void 0);na(S[t],G("A"));na(S[t],S[t][u]);S[t].cb=G("lb");
S[t].qa=function(){return this.lb||this.A};S[t].Ic=function(a){var b=new this.constructor(this.A);b.lb=a;b.cl=this.cl;return b};S[t].as=S[t].Ic;S[t].createRow=S[t].Jb;S[t].deserializeRow=S[t].tc;S[t].Fa=G("la");S[t].getIndices=S[t].Fa;S[t].ob=G("G");S[t].getColumns=S[t].ob;S[t].getConstraint=S[t].Kb;S[t].Mb=G("ce");S[t].persistentIndex=S[t].Mb;S[t].Wb=function(){return this.A+".#"};
function T(a,b){wa(this,a);this.Rb=b;this.lb=null}H=T[t];na(H,function(){return this.Rb+"("+this[jb][u]()+")"});H.m=function(){return this.Rb+"("+this[jb].m()+")"};H.M=function(){return this[jb].M()};f(H,function(){return this.m()});H.X=function(){return this[jb].X()};H.cb=G("lb");H.Fa=function(){return[]};H.Zb=Kb(!1);H.Ic=function(a){this.lb=a;return this};T[t].as=T[t].Ic;T[t].hg=function(){for(var a=[this],b=this;b instanceof T;)a[x](b[jb]),b=b[jb];return a};
function mg(a){this.lb=a||null;this.S=new S("#UnknownTable",[],[],!1)}H=mg[t];na(H,Kb("*"));H.m=function(){return this[u]()};f(H,function(){return this.m()});H.M=G("S");H.X=Kb(4);H.cb=G("lb");H.Fa=function(){return[]};H.Zb=Kb(!1);
I("lf.fn.avg",function(a){return new T(a,"AVG")},void 0);function ng(a){return new T(a||new mg,"COUNT")}I("lf.fn.count",ng,void 0);function og(a){return new T(a,"DISTINCT")}I("lf.fn.distinct",og,void 0);I("lf.fn.max",function(a){return new T(a,"MAX")},void 0);I("lf.fn.min",function(a){return new T(a,"MIN")},void 0);I("lf.fn.stddev",function(a){return new T(a,"STDDEV")},void 0);I("lf.fn.sum",function(a){return new T(a,"SUM")},void 0);I("lf.fn.geomean",function(a){return new T(a,"GEOMEAN")},void 0);
function U(a,b){Ge[r](this,"","");this.gj=b;this.Tg=a}K(U,Ge);H=U[t];ma(H,function(a,b){switch(this.gj){case 1:return this.bj(a,b);case 0:return this.aj(a,b);default:return this.dj(a,b)}});f(H,Kb("dummy_node"));H.rd=function(){return this[D]()};H.Kf=function(a){L(-1==this.Tg||a[C]==this.Tg)};H.dj=function(a,b){return new M(J(function(c){c(this.ha(a,[],b))},this))};H.bj=function(a,b){return this.Ab(0)[Pa](a,b)[z](J(function(c){this.Kf(c);return this.ha(a,c,b)},this))};
H.aj=function(a,b){var c=this.ea().map(function(c){return c[Pa](a,b)});return ad(c)[z](J(function(c){var g=[];c[F](function(a){for(var b=0;b<a[C];++b)g[x](a[b])});this.Kf(g);return this.ha(a,g,b)},this))};
function pg(a){U[r](this,-1,1);this.Hf=a}K(pg,U);f(pg[t],function(){return"aggregation("+this.Hf.map(function(a){return a.m()})[D]()+")"});pg[t].ha=function(a,b){b[F](function(a){(new qg(a,this.Hf)).ci()},this);return b};function qg(a,b){this.Ia=a;this.G=b}qg[t].ci=function(){this.G[F](function(a){a=a.hg()[eb]();for(var b=1;b<a[C];b++){var c=a[b],d=c.hg()[n](-1)[0],g=this.Mj(c);if(g.ug(c))break;d=rg(c.Rb,g,d);this.Ia.oh(c,d)}},this)};
qg[t].Mj=function(a){return a[jb]instanceof T?this.Ia.yc(a[jb]):this.Ia};function rg(a,b,c){var d=null;switch(a){case "MIN":d=sg(b,c,function(a,b){return b<a?b:a});break;case "MAX":d=sg(b,c,function(a,b){return b>a?b:a});break;case "DISTINCT":d=tg(b,c);break;case "COUNT":d=ug(b,c);break;case "SUM":d=vg(b,c);break;case "AVG":a=ug(b,c);0<a&&(d=vg(b,c)/a);break;case "GEOMEAN":d=wg(b,c);break;default:d=xg(b,c)}return d}
function sg(a,b,c){return a[B][Ka](function(a,g){var k=g.V(b);return null===k?a:null===a?k:c(a,k)},null)}function ug(a,b){return b instanceof mg?a[B][C]:a[B][Ka](function(a,d){return a+(Qb(d.V(b))?0:1)},0)}function vg(a,b){return sg(a,b,function(a,b){return b+a})}function xg(a,b){var c=[];a[B][F](function(a){a=a.V(b);null===a||c[x](a)});return 0==c[C]?null:ud[xb](null,c)}
function wg(a,b){var c=0,d=a[B][Ka](function(a,d){var l=d.V(b);return 0!=l?(c++,a+ba.log(l)):a},0);return 0==c?null:ba.pow(ba.E,d/c)}function tg(a,b){var c=new Ad;a[B][F](function(a){var g=a.V(b);c.set(g,a)});return new pe(c.j(),a.W())};
function yg(a,b){this.Ea=a;this.ta=b}yg[t].qb=G("Ea");yg[t].ja=G("ta");function V(){Ge[r](this,"","")}K(V,Ge);function zg(a,b){V[r](this);ia(this,a);ua(this,b)}K(zg,V);function Ag(a,b){zg[r](this,a,b)}K(Ag,zg);function Bg(a){V[r](this);ia(this,a)}K(Bg,V);f(Bg[t],function(){return"delete("+this[h][u]()+")"});function Cg(a,b){V[r](this);ia(this,a);this.Af=b}K(Cg,V);f(Cg[t],function(){var a=[];this.Af&&(a=this.Af.map(function(a){return a.J[u]()},this));return"update("+this[h][u]()+", ["+a[m](",")+"])"});
function Dg(a){V[r](this);this.Ca=a}K(Dg,V);f(Dg[t],function(){return"select("+this.Ca[D]()+")"});function Eg(a){V[r](this);ia(this,a)}K(Eg,V);f(Eg[t],function(){var a="table_access("+this[h][u]();null===this[h].cb()||(a+=" as "+this[h].cb());return a+")"});function Fg(){V[r](this)}K(Fg,V);f(Fg[t],Kb("cross_product"));function Gg(a,b){V[r](this);this.f=a;this.Xb=b}K(Gg,V);
f(Gg[t],function(){var a="project("+this.f[D]();if(null!==this.Xb)var b=this.Xb.map(function(a){return a.m()})[m](", "),a=a+(", groupBy("+b+")");return a+")"});function Hg(a){V[r](this);this.N=a}K(Hg,V);f(Hg[t],function(){return"order_by("+Oe(this.N)+")"});function Ig(a){V[r](this);this.f=a}K(Ig,V);f(Ig[t],function(){return"aggregation("+this.f[D]()+")"});function Jg(a){V[r](this);this.f=a}K(Jg,V);f(Jg[t],function(){return"group_by("+this.f[D]()+")"});function Kg(a){V[r](this);this.Z=a}K(Kg,V);
f(Kg[t],function(){return"limit("+this.Z+")"});function Lg(a){V[r](this);this.O=a}K(Lg,V);f(Lg[t],function(){return"skip("+this.O+")"});function Mg(a,b){V[r](this);this.Ca=a;this.Fg=b}K(Mg,V);f(Mg[t],function(){return(this.Fg?"left_outer_join":"join")+"("+this.Ca[D]()+")"});
function Ng(){};
function Og(){}K(Og,Ng);Og[t].Gb=function(a){this.ca=a;this.bb(this.ca);return this.ca};Og[t].bb=function(a){if(a instanceof Dg){L(1==a.ya(),"SelectNode must have exactly one child.");var b=this.Mf(a.Ca),b=this.Li(b);Zf(a,a,b[0],b[1]);a==this.ca&&(this.ca=b[0]);a=b[0]}a.ea()[F](function(a){this.bb(a)},this)};Og[t].Mf=function(a){if(0==a.ya()||"and"!=a.cc)return[a];var b=a.ea()[n]().map(function(b){a[hb](b);return this.Mf(b)},this);return yc(b)};
Og[t].Li=function(a){var b=null,c=null;a.map(function(a,g){var k=new Dg(a);0==g?b=k:c.oa(k);c=k},this);return[b,c]};
function Pg(){}K(Pg,Ng);Pg[t].Gb=function(a){this.ca=a;this.bb(this.ca);return this.ca};Pg[t].bb=function(a){if(a instanceof Fg)for(;2<a.ya();){for(var b=new Fg,c=0;2>c;c++){var d=a.he(0);b.oa(d)}a.Gc(b,0)}a.ea()[F](function(a){this.bb(a)},this)};
function Qg(){U[r](this,2,0)}K(Qg,U);f(Qg[t],Kb("cross_product"));Qg[t].ha=function(a,b){for(var c=b[0],d=b[1],g=[],k=c.W(),l=d.W(),p=0;p<c[B][C];p++)for(var y=0;y<d[B][C];y++){var ya=ye(c[B][p],k,d[B][y],l);g[x](ya)}c=c.W()[Ra](d.W());return[new pe(g,c)]};

function Rg(a,b){Re[r](this,a,b);this.Za=a.o(Ld);this.Lb=a.o(Md)}K(Rg,Re);Ea(Rg[t],Kb(2));Rg[t].ff=function(a){0==this.X()?this.Kk(a):this.nd()};Rg[t].Kk=function(a){this.fe[F](function(b,c){b instanceof Ne&&this.Lb.Ch(b,a[c])},this)};Rg[t].nd=function(){var a=this.Lb.Re(this.ja().j());0!=a[C]&&(a=new Se(this[Va],a),this.Za.ic(a))};
function Sg(a){Le[r](this,a)}K(Sg,Le);Sg[t].ja=function(){var a=new O([this.c]);a[gb](this.ga[zb]().gg(this.c[u]()));return a};la(Sg[t],function(){var a=new Sg(this.ga);a.Cd(this);a.c=this.c;return a});Ba(Sg[t],function(a){Sg.Pb[E][r](this,a);this.ve(a);return this});
function Tg(a){Le[r](this,a)}K(Tg,Le);Tg[t].ja=function(){var a=new O([this.Ha]),b=this.ga[zb]();a[gb](b.Sj(this.Ha[u]()));this.nc&&a[gb](b.gg(this.Ha[u]()));return a};la(Tg[t],function(){var a=new Tg(this.ga);a.Cd(this);a.Ha=this.Ha;this[cb]&&ua(a,this[cb]instanceof ze?this[cb]:this[cb][n]());a.nc=this.nc;a.oc=this.oc;return a});Ba(Tg[t],function(a){Tg.Pb[E][r](this,a);this.oc&&ua(this,this.oc instanceof ze?a[this.oc.Bb()]:this.oc.map(function(b){return b instanceof ze?a[b.Bb()]:b}));return this});
function Ug(a){Le[r](this,a)}K(Ug,Le);Ug[t].ja=function(){var a=new O([this[h]]),b=this.set.map(function(a){return a.J.m()}),c=this.ga[zb]();a[gb](c.Tj(b));a[gb](c.Ij(b));return a};la(Ug[t],function(){var a=new Ug(this.ga);a.Cd(this);ia(a,this[h]);a.set=this.set?this.set[n]():this.set;return a});Ba(Ug[t],function(a){Ug.Pb[E][r](this,a);this.set[F](function(b){-1!=b.xd&&pa(b,a[b.xd])});this.ve(a);return this});
function Vg(a,b){if(null==b)return"NULL";switch(a){case 1:return b?1:0;case 3:case 4:return b;case 0:return"'"+ld(b)+"'";default:return"'"+b[D]()+"'"}}function Wg(a,b){var c=a.nc?"INSERT OR REPLACE":"INSERT",d=a.Ha.ob(),c=c+(" INTO "+a.Ha[u]()+"("),c=c+d.map(function(a){return a[u]()})[m](", "),c=c+") VALUES (";return a[cb].map(function(a){var k=d.map(function(c){var d=a.w()[c[u]()];return b?null!=d?"#":"NULL":Vg(c.X(),d)});return c+k[m](", ")+");"})[m]("\n")}
function Xg(a){switch(a){case "between":return"BETWEEN";case "eq":return"=";case "gte":return">=";case "gt":return">";case "in":return"IN";case "lte":return"<=";case "lt":return"<";case "match":return"LIKE";case "neq":return"<>";default:return"UNKNOWN"}}function Yg(a,b,c,d){return a instanceof ze?"?"+a.Bb()[D]():d?null!=a?"#":"NULL":"match"==b?"'"+a[D]()+"'":"in"==b?"("+a.map(function(a){return Vg(c,a)})[m](", ")+")":"between"==b?Vg(c,a[0])+" AND "+Vg(c,a[1]):Vg(c,a)[D]()}
function Zg(a,b){return a.ea().map(function(a){return"("+$g(a,b)+")"})[m]("and"==a.cc?" AND ":" OR ")}function $g(a,b){if(a instanceof Ke){var c=a.J.m(),d=Xg(a.L),g=Yg(a[v],a.L,a.J.X(),b);return"="==d&&"NULL"==g?[c,"IS NULL"][m](" "):"<>"==d&&"NULL"==g?[c,"IS NOT NULL"][m](" "):[c,d,g][m](" ")}if(a instanceof ag)return Zg(a,b);if(a instanceof ig)return[a.Oa.m(),Xg(a.L),a.Da.m()][m](" ");throw new P(357,typeof a);}function ah(a,b){var c=$g(a,b);return c?" WHERE "+c:""}
function bh(a,b){var c="UPDATE "+a[h][u]()+" SET ",c=c+a.set.map(function(a){var b=a.J.m()+" = ";return-1!=a.xd?b+"?"+a.xd[D]():b+Vg(a.J.X(),a[v])[D]()})[m](", ");a.D&&(c+=ah(a.D,b));return c+";"}
function ch(a,b){var c="*";a.f[C]&&(c=a.f.map(function(a){return a.cb()?a.m()+" AS "+a.cb():a.m()})[m](", "));var d=a.c.map(function(a){return a.qa()!=a[u]()?a[u]()+" AS "+a.qa():a[u]()})[m](", "),c="SELECT "+c+" FROM "+d;a.D&&(c+=ah(a.D,b));a.N&&(d=a.N.map(function(a){return a.J.m()+(0==a.tb?" DESC":" ASC")})[m](", "),c+=" ORDER BY "+d);a.ka&&(d=a.ka.map(function(a){return a.m()})[m](", "),c+=" GROUP BY "+d);a.Z&&(c+=" LIMIT "+a.Z[D]());a.O&&(c+=" SKIP "+a.O[D]());return c+";"}
function dh(a,b){var c=b||!1,d=a.ng();if(d instanceof Tg)return Wg(d,c);if(d instanceof Sg){var g="DELETE FROM "+d.c[u]();d.D&&(g+=ah(d.D,c));return g+";"}if(d instanceof Ug)return bh(d,c);if(d instanceof Ne)return ch(d,c);throw new P(358,typeof d);};
function eh(a,b){this.global=a;this.Yk=a.o(Kd);this.Za=a.o(Ld);this.a=b}I("lf.query.BaseBuilder",eh,void 0);ma(eh[t],function(){try{this.mb()}catch(a){return Yc(a)}return new M(function(a,c){var d=new Rg(this[Va],[this.cd()]);this.Za.ic(d)[z](function(c){a(c[0].Ne())},c)},this)});ma(eh[t],eh[t][Pa]);eh[t].eg=function(){var a=J(function(a){return a.rd(this.a)+"\n"},this);return $f(this.Oe().qb(),a)};eh[t].explain=eh[t].eg;Ba(eh[t],function(a){this.a[E](a);return this});Ba(eh[t],eh[t][E]);
eh[t].xl=function(a){return dh(this,a)};eh[t].toSql=eh[t].xl;H=eh[t];H.mb=Ib();H.ng=function(){return this.a.clone()};H.Pd=G("a");H.Oe=function(){null==this.Zg&&(this.Zg=this.Yk.Uj(this.a));return this.Zg};H.cd=function(){return{context:this.ng(),jf:this.Oe()}};H.Qj=function(){return{context:this.Pd(),jf:this.Oe()}};
function fh(a){eh[r](this,a,new Sg(a.o(Nd)))}K(fh,eh);I("lf.query.DeleteBuilder",fh,void 0);fh[t].c=function(a){this.Uh();this.a.c=a;return this};fh[t].from=fh[t].c;fh[t].D=function(a){this.te();this.a.D=a;return this};fh[t].where=fh[t].D;fh[t].Uh=function(){if(null!=this.a.c)throw new P(515);};fh[t].te=function(){if(null!=this.a.D)throw new P(516);};fh[t].mb=function(){fh.Pb.mb[r](this);if(null==this.a.c)throw new P(517);};
function gh(a,b){eh[r](this,a,new Tg(a.o(Nd)));this.a.nc=b||!1}K(gh,eh);I("lf.query.InsertBuilder",gh,void 0);gh[t].mb=function(){gh.Pb.mb[r](this);var a=this.a;if(null==a.Ha||null==a[cb])throw new P(518);if(a.nc&&null===a.Ha.Kb().Rd())throw new P(519);};gh[t].Ha=function(a){this.Vh();this.a.Ha=a;return this};gh[t].into=gh[t].Ha;ua(gh[t],function(a){this.Wh();a instanceof ze||a[$a](function(a){return a instanceof ze})?this.a.oc=a:ua(this.a,a);return this});ua(gh[t],gh[t][cb]);
gh[t].Vh=function(){if(null!=this.a.Ha)throw new P(520);};gh[t].Wh=function(){if(null!=this.a[cb])throw new P(521);};
function hh(a){return ih("and",e[t][n][r](arguments))}I("lf.op.and",hh,void 0);I("lf.op.or",function(a){return ih("or",e[t][n][r](arguments))},void 0);function ih(a,b){var c=new ag(a);b[F](function(a){c.oa(a)});return c}I("lf.op.not",function(a){a.le(!0);return a},void 0);
function W(a,b){eh[r](this,a,new Ne(a.o(Nd)));this.fg=this.Gh=!1;this.a.f=b;this.li();this.ji()}K(W,eh);I("lf.query.SelectBuilder",W,void 0);H=W[t];H.mb=function(){W.Pb.mb[r](this);var a=this.a;if(null==a.c)throw new P(522);if(Mb(a.ac)&&!Mb(a.Z)||Mb(a.lc)&&!Mb(a.O))throw new P(523);this.xi()};H.li=function(){var a=this.a.f[Ga](function(a){return a instanceof T&&"DISTINCT"==a.Rb},this);if(0!=a[C]&&(1!=a[C]||1!=this.a.f[C]))throw new P(524);};H.xi=function(){null!=this.a.ka?this.pi():this.wi()};
H.pi=function(){var a=this.a.f[Ga](function(a){return!(a instanceof T)}).map(function(a){return a.m()}),b=!1;if(0==this.a.ka[C]||0==this.a.f[C])b=!0;else{var c=this.a.ka.map(function(a){return a.m()});(b=a[$a](function(a){return-1==c[Za](a)}))||(b=this.a.ka[$a](function(a){a=a.X();return 6==a||0==a}))}if(b)throw new P(525);};
H.wi=function(){var a=this.a.f[$a](function(a){return a instanceof T},this),b=this.a.f[$a](function(a){return!(a instanceof T)},this)||0==this.a.f[C];if(a&&b)throw new P(526);};H.ji=function(){this.a.f[F](function(a){if(a instanceof T&&!jh(a.Rb,a.X()))throw new P(527,a.m());},this)};H.c=function(a){if(this.fg)throw new P(515);this.fg=!0;null==this.a.c&&(this.a.c=[]);this.a.c[x][xb](this.a.c,e[t][n][r](arguments));return this};W[t].from=W[t].c;
W[t].D=function(a){if(this.Gh)throw new P(516);this.Gh=!0;this.ue(a);return this};W[t].where=W[t].D;W[t].ue=function(a){null!=this.a.D&&(a=hh(a,this.a.D));this.a.D=a};W[t].sk=function(a,b){if(null==this.a.c)throw new P(542);this.a.c[x](a);this.ue(b);return this};W[t].innerJoin=W[t].sk;
W[t].zk=function(a,b){if(!(b instanceof ig))throw new P(541);if(null==this.a.c)throw new P(542);this.a.c[x](a);null==this.a.Bc&&(this.a.Bc=new O);var c=b;a.qa()!=b.Da.M().qa()&&(c=b[eb]());this.a.Bc.add(c.fa());this.ue(c);return this};W[t].leftOuterJoin=W[t].zk;W[t].Z=function(a){if(null!=(this.a.Z||this.a.ac))throw new P(528);if(a instanceof ze)this.a.ac=a;else{if(0>a)throw new P(531);this.a.Z=a}return this};W[t].limit=W[t].Z;
W[t].O=function(a){if(null!=(this.a.O||this.a.lc))throw new P(529);if(a instanceof ze)this.a.lc=a;else{if(0>a)throw new P(531);this.a.O=a}return this};W[t].skip=W[t].O;W[t].N=function(a,b){null==this.a.N&&(this.a.N=[]);this.a.N[x]({J:a,tb:null!=b?b:1});return this};W[t].orderBy=W[t].N;W[t].ka=function(a){if(null!=this.a.ka)throw new P(530);null==this.a.ka&&(this.a.ka=[]);this.a.ka[x][xb](this.a.ka,e[t][n][r](arguments));return this};W[t].groupBy=W[t].ka;
function jh(a,b){switch(a){case "COUNT":case "DISTINCT":return!0;case "AVG":case "GEOMEAN":case "STDDEV":case "SUM":return 4==b||3==b;case "MAX":case "MIN":return 4==b||3==b||5==b||2==b}return!1}la(W[t],function(){var a=new W(this[Va],this.a.f);a.a=this.a.clone();a.a.Mc=null;return a});la(W[t],W[t].clone);
function kh(a,b){eh[r](this,a,new Ug(a.o(Nd)));ia(this.a,b)}K(kh,eh);I("lf.query.UpdateBuilder",kh,void 0);kh[t].set=function(a,b){var c={xd:b instanceof ze?b.Bb():-1,J:a,value:b};null!=this.a.set?this.a.set[x](c):this.a.set=[c];return this};kh[t].set=kh[t].set;kh[t].D=function(a){this.te();this.a.D=a;return this};kh[t].where=kh[t].D;kh[t].te=function(){if(null!=this.a.D)throw new P(516);};
kh[t].mb=function(){kh.Pb.mb[r](this);if(null==this.a.set)throw new P(532);if(this.a.set[$a](function(a){return a[v]instanceof ze}))throw new P(501);};
function lh(a){this.a=a;this.Ea=null}lh[t].xc=function(){null===this.Ea&&(this.Ea=this.Kd());return this.Ea};function mh(a){lh[r](this,a)}K(mh,lh);mh[t].Kd=function(){return this.a.nc?new Ag(this.a.Ha,this.a[cb]):new zg(this.a.Ha,this.a[cb])};function nh(a){lh[r](this,a)}K(nh,lh);nh[t].Kd=function(){var a=new Cg(this.a[h],this.a.set),b=null!=this.a.D?new Dg(this.a.D.Tb()):null,c=new Eg(this.a[h]);null===b?a.oa(c):(b.oa(c),a.oa(b));return a};
function oh(a,b,c){this.Ea=a;this.lf=b;this.hc=c}oh[t].xc=function(){this.hc[F](function(a){this.Ea=a.Gb(this.Ea,this.lf)},this);return this.Ea};
function ph(a,b){lh[r](this,a);this.hc=b}K(ph,lh);ph[t].Kd=function(){var a=new Bg(this.a.c),b=null!=this.a.D?new Dg(this.a.D.Tb()):null,c=new Eg(this.a.c);null===b?a.oa(c):(b.oa(c),a.oa(b));return(new oh(a,this.a,this.hc)).xc()};
function qh(){}K(qh,Ng);qh[t].Gb=function(a,b){this.ca=a;this.bb(this.ca,b);return this.ca};qh[t].bb=function(a,b){if(a instanceof Dg&&a.Ca instanceof ig){L(1==a.ya(),"SelectNode must have exactly one child.");var c=a.Ca.fa(),d=a.Ab(0);d instanceof Fg&&(c=Mb(b)&&null!=b.Bc&&b.Bc[tb](c),c=new Mg(a.Ca,c),Zf(a,d,c,c),a==this.ca&&(this.ca=c),a=c)}a.ea()[F](function(a){this.bb(a,b)},this)};
function rh(){this.re=new O}K(rh,Ng);H=rh[t];H.Uf=function(){this.re[w]()};H.Gb=function(a){this.Uf();this.ca=a;this.bb(this.ca);this.Uf();return this.ca};H.bb=function(a){if(this.Ag(a)){var b=a.Ca instanceof Ke?this.Xk(a):this.Wk(a);this.re.add(a);b==a&&(b=a.Ab(0));null!==b&&(Qb(b[Bb]())&&(this.ca=b),this.Ag(b)&&!this.re[tb](b)&&this.bb(b))}else a.ea()[F](function(a){this.bb(a)},this)};
H.ee=function(a,b){var c=a;if(this.ol(a))c=Xf(a),this.ee(a,b);else if(this.nl(a)){var d=[],c=Yf(a,b,function(a){a=new Dg(a.Ca);d[x](a);return a});d[F](function(a){this.ee(a,b)},this)}return c};H.Xk=function(a){var b=new O([a.Ca.J.M().qa()]),c=function(a){return this.bg(a,b)}[E](this);return this.ee(a,c)};H.Wk=function(a){var b=new O([a.Ca.Oa.M().qa(),a.Ca.Da.M().qa()]),c=function(a){return this.bg(a,b)}[E](this);return this.ee(a,c)};
H.bg=function(a,b){var c=new O;Tf(a)[F](function(a){c.add(a[h].qa())},this);a instanceof Eg&&c.add(a[h].qa());return c.Hi(b)};H.Ag=function(a){return a instanceof Dg&&!(a.Ca instanceof ag)};H.nl=function(a){a=a.Ab(0);return a instanceof Fg||a instanceof Mg};H.ol=function(a){return a.Ab(0)instanceof Dg};
function sh(a,b){lh[r](this,a);this.hc=b;this.eh=this.Og=this.sh=this.Ug=this.If=this.tg=this.nh=this.Zf=this.uh=null}K(sh,lh);H=sh[t];H.Kd=function(){this.zj();var a=this.Ei();return(new oh(a,this.a,this.hc)).xc()};H.zj=function(){this.Fj();this.uj();this.Dj();this.Aj();this.Ej();this.yj();this.wj();this.tj();this.Bj()};
H.Ei=function(){for(var a=[this.Og,this.sh,this.eh,this.Ug,this.If,this.tg,this.nh,this.Zf],b=null,c=null,d=0;d<a[C];d++){var g=a[d];null!==g&&(null===c?c=g:a[b].oa(g),b=d)}this.uh[F](function(c){a[b].oa(c)});return c};H.Fj=function(){this.uh=this.a.c.map(function(a){return new Eg(a)},this)};H.uj=function(){2<=this.a.c[C]&&(this.Zf=new Fg)};H.Dj=function(){this.nh=null!=this.a.D?new Dg(this.a.D.Tb()):null};H.Aj=function(){this.a.N&&(this.Ug=new Hg(this.a.N))};
H.yj=function(){null!=this.a.Z&&(this.Og=new Kg(this.a.Z))};H.Ej=function(){null!=this.a.O&&0<this.a.O&&(this.sh=new Lg(this.a.O))};H.wj=function(){null!=this.a.ka&&(this.tg=new Jg(this.a.ka))};H.tj=function(){var a=this.a.f[Ga](function(a){return a instanceof T});null!=this.a.N&&this.a.N[F](function(b){b.J instanceof T&&a[x](b.J)});0<a[C]&&(this.If=new Ig(a))};H.Bj=function(){this.eh=new Gg(this.a.f||[],this.a.ka||null)};
function th(){this.rf=[new Og,new Pg,new rh,new qh];this.Ge=[new Og]}th[t].create=function(a){var b=null;if(a instanceof Tg)b=new mh(a);else if(a instanceof Sg)b=new ph(a,this.Ge);else if(a instanceof Ne)b=new sh(a,this.rf);else if(a instanceof Ug)b=new nh(a);else throw new P(513);b=b.xc();return new yg(b,a.ja())};
function uh(a){U[r](this,1,1);this.S=a}K(uh,U);f(uh[t],function(){return"delete("+this.S[u]()+")"});uh[t].ha=function(a,b){var c=b[0][B].map(function(a){return a.xa});a[ib](this.S,c);return[se()]};
function vh(a,b){U[r](this,0,-1);ia(this,b);this.H=a.o(Jd)}K(vh,U);f(vh[t],function(){return"get_row_count("+this[h][u]()+")"});vh[t].ha=function(){var a=this.H.get(this[h].Wb()),b=new pe([],[this[h][u]()]);b.oh(ng(),a.$a().ua);return[b]};
function wh(a,b){U[r](this,0,-1);this.va=a.o(Id);this.H=a.o(Jd);ia(this,b)}K(wh,U);f(wh[t],function(){var a="table_access("+this[h][u]();null===this[h].cb()||(a+=" as "+this[h].cb());return a+")"});wh[t].ha=function(){var a=this.H.get(this[h].Wb()).pb();return[ve(this.va.get(a),[this[h].qa()])]};
function xh(a){this.l=a}K(xh,Ng);xh[t].Gb=function(a,b){this.ca=a;if(!this.ii(b))return a;var c=Uf(a,function(a){return a instanceof wh})[0],d=new vh(this.l,c[h]);Zf(c,c,d,d);return this.ca};xh[t].ii=function(a){return 1==a.f[C]&&1==a.c[C]&&null==a.D&&null==a.Z&&null==a.O&&null==a.ka?(a=a.f[0],a instanceof T&&"COUNT"==a.Rb&&a[jb]instanceof mg):!1};
function yh(a){U[r](this,1,1);this.sg=a}K(yh,U);f(yh[t],function(){return"groupBy("+this.sg.map(function(a){return a.m()})[D]()+")"});yh[t].ha=function(a,b){return this.ei(b[0])};yh[t].ei=function(a){var b=new hg,c=function(a){return this.sg.map(function(b){return a.V(b)},this)[m](",")}[E](this);a[B][F](function(a){b.add(c(a),a)},this);return b.ia().map(function(c){return new pe(b.get(c),a.W())},this)};
function zh(a){L(1<a[C],"Should only be called for cross-column indices.");a=a.map(function(a){return a.j()});a=zd[xb](null,a);var b=[];yd(a,function(a){b[x](a)});return b}function Ah(a){this.Yb=a}Ah[t].Nd=function(){return 1==this.Yb.f[C]?[ne()]:[this.Yb.f.map(function(){return ne()})]};function Bh(a,b){this.Yb=a;this.wa=b;this.Ce=this.Mg=null}
Bh[t].fi=function(a){var b=new Ad;this.wa.ia()[F](function(c){var d=this.wa.get(c).map(function(b){return a.Qd(b)},this),g=new Qf([ne()]);d[F](function(a){a=new Qf(a.wl());g=Rf(g,a)});b.set(c,g)},this);return b};Bh[t].lj=function(a){for(var b=this.Yb.f[C]-1;0<=b;b--){var c=this.Yb.f[b];if(null!==a.get(c.ga[u](),null))break;a.set(c.ga[u](),new Qf([ne()]))}};Bh[t].Nd=function(a){if(this.Mg==a)return this.Ce;var b=this.fi(a);this.lj(b);this.Ce=1==this.Yb.f[C]?b.j()[0].j():zh(this.ak(b));this.Mg=a;return this.Ce};
Bh[t].ak=function(a){var b=new Ad,c=0;this.Yb.f[F](function(a){b.set(a.ga[u](),c);c++});return a.ia()[Ya](function(a,c){return b.get(a)-b.get(c)}).map(function(b){return a.get(b)})};
function Ch(a,b){this.wh=b;this.H=a.o(Jd)}Ch[t].Ai=function(a,b){var c=b[Ga](this.tk,this);if(0==c[C])return null;c=this.xj(c);if(0==c[C])return null;if(1==c[C])return c[0];var d=Number.MAX_VALUE;return c[Ka](function(b,c){var l=c.di(a);return l<d?(d=l,c):b},null)};Ch[t].xj=function(a){return this.wh.Fa().map(function(b){b=new Dh(this.H,b);b.Gi(a);return b},this)[Ga](function(a){return a.yk()})};Ch[t].tk=function(a){return a instanceof Ke&&a.Bg()?a.J.M()==this.wh:!1};
function Dh(a,b){this.H=a;this.Db=b;this.wg=new O;this.wg[gb](this.Db.f.map(function(a){return a.ga[u]()}));this.$e=this.wa=null}H=Dh[t];H.Vj=function(){return null===this.wa?[]:this.wa.j()};H.lg=function(){L(this.wa);null===this.$e&&(this.$e=new Bh(this.Db,this.wa));return this.$e};H.Gi=function(a){a[F](function(a){var c=a.ob()[0][u]();this.wg[tb](c)&&(null===this.wa&&(this.wa=new hg),this.wa.add(c,a.fa()))},this)};
H.yk=function(){if(null===this.wa)return!1;for(var a=!1,b=!0,c=0;c<this.Db.f[C];c++){var d=this.wa.K(this.Db.f[c].ga[u]());if(a&&d){b=!1;break}d||(a=!0)}return b};H.di=function(a){a=this.lg().Nd(a);var b=this.H.get(this.Db.m());return a[Ka](function(a,d){return a+b.Fd(d)},0)};
function Eh(a,b,c,d){U[r](this,0,-1);this.H=a.o(Jd);this.index=b;this.Kg=c;this.pf=d;this.vd=this.ud=!1}K(Eh,U);f(Eh[t],function(){return"index_range_scan("+this[mb].m()+", ?, "+(this.pf?"reverse":"natural")+(this.ud?", limit:?":"")+(this.vd?", skip:?":"")+")"});Eh[t].rd=function(a){var b=this[D](),c=this.Kg.Nd(a),b=b[db]("?",c[D]());this.ud&&(b=b[db]("?",a.Z[D]()));this.vd&&(b=b[db]("?",a.O[D]()));return b};
Eh[t].ha=function(a,b,c){a=this.Kg.Nd(c);b=this.H.get(this[mb].m());c=(1==a[C]&&a[0]instanceof le&&a[0].Eg()?pf(b.get(a[0].c),!1,this.ud?c.Z:void 0,this.vd?c.O:void 0):b.pb(a,this.pf,this.ud?c.Z:void 0,this.vd?c.O:void 0)).map(function(a){return new hd(a,{})},this);return[ve(c,[this[mb].qd])]};
function Fh(a){U[r](this,1,1);this.de=a}K(Fh,U);f(Fh[t],Kb("select(?)"));Fh[t].rd=function(a){a=a.Qd(this.de);return this[D]()[db]("?",a[D]())};Fh[t].ha=function(a,b,c){return[c.Qd(this.de).eval(b[0])]};
function Gh(a,b){U[r](this,1,1);this.va=a.o(Id);this.S=b}K(Gh,U);f(Gh[t],function(){return"table_access_by_row_id("+this.S[u]()+")"});Gh[t].ha=function(a,b){return[ve(this.va.get(b[0].$j()),[this.S.qa()])]};
function Hh(a){this.l=a}K(Hh,Ng);Hh[t].Gb=function(a,b){this.ca=a;Uf(a,function(a){return a instanceof wh})[F](function(a){var d=this.rj(a);if(0!=d[C]){var g=(new Ch(this.l,a[h])).Ai(b,d.map(function(a){return b.Qd(a.de)}));if(null!==g){var k=new Ad;d[F](function(a){k.set(a.de,a)},this);this.ca=this.hl(g,k,a,b)}}},this);return this.ca};Hh[t].rj=function(a){var b=[];for(a=a[Bb]();a;)a instanceof Fh&&b[x](a),a=a[Bb]();return b};
Hh[t].hl=function(a,b,c){a.Vj().map(function(a){return b.get(a)})[F](Vf);a=new Eh(this.l,a.Db,a.lg(),!1);var d=new Gh(this.l,c[h]);d.oa(a);Zf(c,c,d,a);return a.qb()};
function Ih(a,b){U[r](this,0,-1);this.H=a.o(Jd);this.S=b}K(Ih,U);f(Ih[t],function(){return"insert("+this.S[u]()+")"});Ih[t].ha=function(a,b,c){Jh(this.S,c[cb],this.H);a.Eb(this.S,c[cb]);return[ve(c[cb],[this.S[u]()])]};function Jh(a,b,c){a=a.Kb().Rd();if(null===a?0:a.f[0][ob]){var d=a.f[0].ga[u]();c=c.get(a.m()).max();var g=null===c?0:c[0];b[F](function(a){if(0==a.w()[d]||null==a.w()[d])g++,a.w()[d]=g})}}function Kh(a,b){U[r](this,0,-1);this.H=a.o(Jd);this.S=b}K(Kh,U);
f(Kh[t],function(){return"insert_replace("+this.S[u]()+")"});Kh[t].ha=function(a,b,c){Jh(this.S,c[cb],this.H);a.Ue(this.S,c[cb]);return[ve(c[cb],[this.S[u]()])]};
function Lh(a,b){U[r](this,2,0);this.dh=a;this.Gg=b}K(Lh,U);f(Lh[t],function(){return(this.Gg?"left_outer_join":"join")+"("+this.dh[D]()+")"});Lh[t].ha=function(a,b){return[this.dh.Yi(b[0],b[1],this.Gg)]};
function Mh(){U[r](this,1,1)}K(Mh,U);f(Mh[t],Kb("limit(?)"));Mh[t].rd=function(a){return this[D]()[db]("?",a.Z[D]())};Mh[t].ha=function(a,b,c){b[0][B][A](c.Z);return b};
function Nh(a){U[r](this,-1,1);this.N=a}K(Nh,U);H=Nh[t];f(H,function(){return"order_by("+Oe(this.N)+")"});H.ha=function(a,b){if(1==b[C]){var c=this.nj(b[0]);(null===c?b[0]:b[0].yc(c))[B][Ya](this.Vi[E](this))}else b[Ya](this.dl[E](this));return b};H.nj=function(a){for(var b=null,c=0;c<this.N[C];c++){var d=og(this.N[c].J);if(a.ug(d)){b=d;break}}return b};
H.U=function(a,b){var c=null,d=null,g=null,k=-1;do k++,g=this.N[k].J,c=this.N[k].tb,d=a(g),g=b(g);while(d==g&&k+1<this.N[C]);d=d<g?-1:d>g?1:0;return 1==c?d:-d};H.dl=function(a,b){return this.U(function(b){return b instanceof T?a.yc(b):a[B][a[B][C]-1].V(b)},function(a){return a instanceof T?b.yc(a):b[B][b[B][C]-1].V(a)})};H.Vi=function(a,b){return this.U(function(b){return a.V(b)},function(a){return b.V(a)})};
function Oh(a,b){this.Ia=a;this.G=b}Oh[t].rg=function(){return this.G[$a](function(a){return a instanceof T},this)?this.ik():this.jk()};
Oh[t].ik=function(){if(1==this.G[C]&&"DISTINCT"==this.G[0].Rb){var a=this.Ia.yc(this.G[0])[B].map(function(a){var b=new we(new hd(-1,{}),this.Ia.Xe());b.sf(this.G[0],a.V(this.G[0][jb]));return b},this);return new pe(a,[])}var b=new we(new hd(-1,{}),this.Ia.Xe());this.G[F](function(a){var d=a instanceof T?this.Ia.yc(a):this.Ia[B][0].V(a);b.sf(a,d)},this);return new pe([b],this.Ia.W())};
Oh[t].jk=function(){var a=e(this.Ia[B][C]),b=this.Ia.Xe();this.Ia[B][F](function(c,d){a[d]=new we(new hd(c.xa.id(),{}),b);this.G[F](function(b){a[d].sf(b,c.V(b))},this)},this);return new pe(a,this.Ia.W())};function Ph(a,b){var c=a.map(function(a){return(new Oh(a,b)).rg()[B][0]});return new pe(c,a[0].W())};
function Qh(a,b){U[r](this,-1,1);this.f=a;this.Xb=b}K(Qh,U);H=Qh[t];f(H,function(){var a="project("+this.f[D]();if(null!==this.Xb)var b=this.Xb.map(function(a){return a.m()})[m](", "),a=a+(", groupBy("+b+")");return a+")"});H.ha=function(a,b){return 0==b[C]?[se()]:1==b[C]?[this.ej(b[0])]:[this.cj(b)]};H.kk=function(){return this.f[$a](function(a){return a instanceof T})||null!==this.Xb};H.cj=function(a){return Ph(a,this.f)};H.ej=function(a){return 0==this.f[C]?a:(new Oh(a,this.f)).rg()};
function Rh(){U[r](this,1,1)}K(Rh,U);f(Rh[t],Kb("skip(?)"));Rh[t].rd=function(a){return this[D]()[db]("?",a.O[D]())};Rh[t].ha=function(a,b,c){return[new pe(b[0][B][n](c.O),b[0].W())]};
function Sh(){}K(Sh,Ng);Sh[t].Gb=function(a){var b=Uf(a,function(a){return a instanceof Mh||a instanceof Rh});if(0==b[C])return a;var c=this.qj(a);if(null===c)return a;b[F](function(a){this.Hk(a,c)},this);return c.qb()};Sh[t].Hk=function(a,b){a instanceof Mh?b.ud=!0:b.vd=!0;return Vf(a).parent};Sh[t].qj=function(a){a=Uf(a,function(a){return a instanceof Eh},function(a){return a instanceof Qh&&a.kk()||a instanceof Nh||1!=a.ya()||a instanceof Fh});return 0<a[C]?a[0]:null};
function Th(a){this.l=a}K(Th,Ng);Th[t].Gb=function(a){var b=Uh(a);if(null===b)return a;a=this.Th(b);a==b&&(a=this.Sh(b));return a.qb()};Th[t].Th=function(a){var b=a,c=Vh(a.Ab(0));if(null!==c){var d;d=a.N;for(var g=null,k=c[h].Fa(),l=0;l<k[C]&&null===g;l++)g=Wh(k[l],d);d=g;if(null===d)return b;b=new Eh(this.l,d.Db,new Ah(d.Db),d.Hg);d=new Gh(this.l,c[h]);d.oa(b);Vf(a);b=Zf(c,c,d,b)}return b};
Th[t].Sh=function(a){var b=a,c=Xh(a.Ab(0));if(null!==c){var d=Wh(c[mb],a.N);if(null===d)return b;c.pf=d.Hg;b=Vf(a).parent}return b};function Xh(a){a=Uf(a,function(a){return a instanceof Eh},function(a){return 1!=a.ya()});return 0<a[C]?a[0]:null}function Vh(a){a=Uf(a,function(a){return a instanceof wh},function(a){return 1!=a.ya()});return 0<a[C]?a[0]:null}function Uh(a){a=Uf(a,function(a){return a instanceof Nh});return 0<a[C]?a[0]:null}
function Wh(a,b){if(a.f[C]!=b[C]||!b[Ta](function(b,c){return b.J[u]()==a.f[c].ga[u]()}))return null;var c=Yh(b,a);return c[0]||c[1]?{Db:a,Hg:c[1]}:null}function Yh(a,b){var c=a[Ka](function(a,b){return a<<1|(0==b.tb?0:1)},0),d=b.f[Ka](function(a,b){return a<<1|(0==b.tb?0:1)},0),d=c^d,c=0==d,d=d==ba.pow(2,ba.max(a[C],b.f[C]))-1;return[c,d]};
function Zh(a,b,c){this.Ea=a;this.lf=b;this.hc=c}Zh[t].xc=function(){this.hc[F](function(a){this.Ea=a.Gb(this.Ea,this.lf)},this);return this.Ea};
function $h(a,b){U[r](this,1,1);this.S=a;this.Fl=b}K($h,U);f($h[t],function(){return"update("+this.S[u]()+")"});$h[t].ha=function(a,b){var c=b[0][B].map(function(a){var b=this.S.tc(a.xa.Ja());this.Fl[F](function(a){b.w()[a.J[u]()]=a[v]},this);return b},this);a[Ua](this.S,c);return[se()]};
function ai(a){this.l=a;this.rf=[new Hh(this.l),new Th(this.l),new Sh,new xh(this.l)];this.Ge=[new Hh(this.l)]}ai[t].create=function(a,b){var c=a.qb();if(c instanceof Ag||c instanceof zg)return this.Fe(a,b);if(c instanceof Gg||c instanceof Kg||c instanceof Lg)return this.Fe(a,b,this.rf);if(c instanceof Bg||c instanceof Cg)return this.Fe(a,b,this.Ge);throw new P(8);};ai[t].Fe=function(a,b,c){var d=Sf(a.qb(),J(this.Dk,this));null!=c&&(d=(new Zh(d,b,c)).xc());return new Pe(d,a.ja())};
ai[t].Dk=function(a){if(a instanceof Gg)return new Qh(a.f,a.Xb);if(a instanceof Jg)return new yh(a.f);if(a instanceof Ig)return new pg(a.f);if(a instanceof Hg)return new Nh(a.N);if(a instanceof Lg)return new Rh;if(a instanceof Kg)return new Mh;if(a instanceof Dg)return new Fh(a.Ca.fa());if(a instanceof Fg)return new Qg;if(a instanceof Mg)return new Lh(a.Ca,a.Fg);if(a instanceof Eg)return new wh(this.l,a[h]);if(a instanceof Bg)return new uh(a[h]);if(a instanceof Cg)return new $h(a[h],a.Af);if(a instanceof
Ag)return new Kh(this.l,a[h]);if(a instanceof zg)return new Ih(this.l,a[h]);throw new P(514);};

function bi(a){this.Bk=new th;this.Sk=new ai(a)}bi[t].Uj=function(a){var b=this.Bk[kb](a);return this.Sk[kb](b,a)};
function ci(){this.Qg=new Ad}H=ci[t];H.Md=function(a){var b=this.Qg.get(a[u](),null);null===b&&(b=new di,this.Qg.set(a[u](),b));return b};H.fk=function(a,b,c){b[F](function(b){this.Md(b).ek(a,c)},this)};H.hi=function(a,b,c){return b[Ta](function(b){return this.Md(b).gi(a,c)},this)};H.hh=function(a,b,c){var d=this.hi(a,b,c);d&&this.fk(a,b,c);return d};H.releaseLock=function(a,b){b[F](function(b){this.Md(b).releaseLock(a)},this)};H.Bi=function(a){a[F](function(a){this.Md(a).ib=null},this)};
function di(){this.kc=this.Xa=this.ib=this.Tc=null}di[t].releaseLock=function(a){this.Tc==a&&(this.Tc=null);this.ib==a&&(this.ib=null);null===this.Xa||this.Xa[ib](a);null===this.kc||this.kc[ib](a)};di[t].gi=function(a,b){var c=null===this.Xa||this.Xa.fb();return 0==b?(null===this.kc||this.kc.fb())&&c&&null===this.Tc&&null!==this.ib&&this.ib==a:3==b?null===this.Tc&&null===this.ib&&null!==this.Xa&&this.Xa[tb](a):1==b?null===this.ib:c&&(null===this.ib||this.ib==a)};
di[t].ek=function(a,b){0==b?(this.ib=null,this.Tc=a):3==b?(null===this.kc&&(this.kc=new O),this.kc.add(a),null===this.Xa&&(this.Xa=new O),this.Xa[ib](a)):1==b?(null===this.Xa&&(this.Xa=new O),this.Xa.add(a)):2==b&&(this.ib=a)};
function ei(){this.fc=new fi;this.gd=new ci}H=ei[t];H.ic=function(a){(2>a[Db]()||2>a[Db]())&&this.gd.Bi(a.ja().j());this.fc.Eb(a);this.Ee();return a.ad().na};H.Ee=function(){for(var a=this.fc.j(),b=0;b<a[C];b++){var c=a[b],d=!1;if(d=0==c.X()?this.ih(c,1,3):this.ih(c,2,0))this.fc[ib](c),this.fj(c)}};H.ih=function(a,b,c){var d=!1,g=a.ja().j();this.gd.hh(a.fa(),g,b)&&(d=this.gd.hh(a.fa(),g,c));return d};H.fj=function(a){a[Pa]()[z](J(this.Ok,this,a),J(this.Nk,this,a))};
H.Ok=function(a,b){this.gd.releaseLock(a.fa(),a.ja().j());a.ad()[Fb](b);this.Ee()};H.Nk=function(a,b){this.gd.releaseLock(a.fa(),a.ja().j());a.ad()[La](b);this.Ee()};function fi(){this.fc=[]}fi[t].Eb=function(a){wc(this.fc,a,function(a,c){var d=a[Db]()-c[Db]();return 0==d?a.fa()-c.fa():d})};fi[t].j=function(){return this.fc[n]()};va(fi[t],function(a){var b=this.fc;a=ic(b,a);var c;(c=0<=a)&&oc(b,a);return c});

function gi(a,b){this.Xi=Ae.Me();this.mf=a;this.$d=b;this.G=this.Qi()}gi[t].Qi=function(){if(0<this.mf.f[C])return this.mf.f;var a=[];this.mf.c[F](function(b){b.ob()[F](function(b){a[x](b)})});return a};gi[t].U=function(a,b){return this.G[Ta](function(c){return this.Xi.Ke(c.X(),"eq")(a.V(c),b.V(c))},this)};
gi[t].Rh=function(a,b){for(var c=null===a?[]:a[B],d=qd(c,b[B],J(this.U,this),function(a){return c[a]}),g=[],k=0,l=0;l<c[C];l++){var p=c[l];d[k]==p?k++:(p=this.$d[A](k,1),p=hi(l,p,0,this.$d),g[x](p))}d=qd(c,b[B],J(this.U,this),function(a,c){return b[B][c]});for(l=k=0;l<b[B][C];l++)p=b[B][l],d[k]==p?k++:(this.$d[A](l,0,p.xa.w()),p=hi(l,[],1,this.$d),g[x](p));return g};function hi(a,b,c,d){return{Gl:c,index:a,object:d,Il:b,type:"splice"}};
function ii(){this.vc=new N}H=ii[t];H.Pe=function(a){return Vb(a)[D]()};H.qe=function(a,b){var c=this.Pe(a.Pd()),d=this.vc.get(c)||null;null===d&&(d=new ji(a),this.vc.set(c,d));d.qe(b)};H.of=function(a,b){var c=this.Pe(a.Pd()),d=this.vc.get(c)||null;L(null!=d,"Attempted to unobserve a query that was not observed.");var g=d.of(b);L(g,"removeObserver: Inconsistent state detected.");d.mk()||this.vc[Xa](c)};
H.Re=function(a){var b=Td();a[F](function(a){b.add(a[u]())});var c=[];this.vc[F](function(a){a=a.cd();a[nb].c[$a](function(a){return b.has(a[u]())})&&c[x](a)});return c};H.Ch=function(a,b){var c=this.Pe(null!=a.Mc?a.Mc:a),c=this.vc.get(c)||null;return null!==c?(c.El(b),!0):!1};function ji(a){this.bi=a;this.ld=Td();this.Lk=[];this.Ng=null;this.Ti=new gi(a.Pd(),this.Lk)}H=ji[t];H.qe=function(a){this.ld.has(a)?ec("Attempted to register observer twice."):this.ld.add(a)};H.of=function(a){return this.ld[Xa](a)};
H.cd=function(){return this.bi.Qj()};H.mk=function(){return 0<this.ld[Hb]};H.El=function(a){var b=this.Ti.Rh(this.Ng,a);this.Ng=a;0<b[C]&&this.ld[F](function(a){a(b)})};
function ki(a,b){var c=a.o(Nd),d=b||{},g=new of;a.ub(Id,g);var g=null,k=!1;switch(d.storeType||0){case 1:g=new ff(c);break;case 5:g=new gf(c);break;case 4:g=new nf(a,c,d.webSqlDbSize);break;case 3:g=new $e(c,d.firebase);k=!0;break;default:g=new df(a,c)}a.ub(Hd,g);var l=new Pf;a.ub(Jd,l);return g.Ga(d.onUpgrade)[z](function(){var b=new bi(a);a.ub(Kd,b);b=new ei;a.ub(Ld,b);b=new ii;a.ub(Md,b);return l.Ga(c)})[z](function(){k&&(new Ue(a)).sl();return(new Of(a)).Ga(c)})};

function li(a,b){this.l=a;this.Ib=a.o(Hd);this.Za=a.o(Ld);this.Lb=a.o(Md);this.ta=new O(b);this.Wa=new ke(this.l,this.ta.j());this.gc=bd();this.Uc=bd();this.Cf=bd()}H=li[t];ma(H,function(){this.Cf[Fb]();return this.Uc.na});H.X=Kb(1);H.ja=G("ta");H.ad=G("gc");H.fa=function(){return Vb(this)};Ea(H,Kb(2));H.Hh=function(){this.Za.ic(this);return this.Cf.na};
H.Zh=function(a){a=a.cd();return a.jf.qb()[Pa](this.Wa,a[nb])[z](function(a){return a[0].Ne()},J(function(a){this.Wa.Nb();var c=new Tc(a[q]);this.Uc[La](c);throw a;},this))};H.pa=function(){this.Ib.Ub(this.X(),this.Wa).pa()[z](J(function(){this.nd();this.Uc[Fb]()},this),J(function(a){this.Wa.Nb();this.Uc[La](a)},this));return this.gc.na};H.Nb=function(){this.Wa.Nb();this.Uc[Fb]();return this.gc.na};H.nd=function(){var a=this.Lb.Re(this.ta.j());0!=a[C]&&(a=new Se(this.l,a),this.Za.ic(a))};
function mi(a){this.l=a;this.Za=a.o(Ld);this.sd=null;this.Ka=0}I("lf.proc.Transaction",mi,void 0);var ni=new Ad(0,new O([1,4]),1,new O([2]),2,new O([3,5,6]),3,new O([2,7]),4,new O([7]),5,new O([7]),6,new O([7]));mi[t].Ra=function(a){var b=ni.get(this.Ka,null);if(null===b||!b[tb](a))throw new P(107,this.Ka,a);this.Ka=a};
ma(mi[t],function(a){this.Ra(4);var b=[];try{a[F](function(a){a.mb();b[x](a.cd())},this)}catch(c){return this.Ra(7),Yc(c)}a=new Rg(this.l,b);return this.Za.ic(a)[z](J(function(a){this.Ra(7);return a.map(function(a){return a.Ne()})},this),J(function(a){this.Ra(7);throw a;},this))});ma(mi[t],mi[t][Pa]);mi[t].$h=function(a){this.Ra(1);this.sd=new li(this.l,a);return this.sd.Hh()[z](J(function(){this.Ra(2)},this))};mi[t].begin=mi[t].$h;
mi[t].Yh=function(a){this.Ra(3);return this.sd.Zh(a)[z](J(function(a){this.Ra(2);return a},this),J(function(a){this.Ra(7);throw a;},this))};mi[t].attach=mi[t].Yh;mi[t].pa=function(){this.Ra(5);return this.sd.pa()[z](J(function(){this.Ra(7)},this))};mi[t].commit=mi[t].pa;mi[t].Nb=function(){this.Ra(6);return this.sd.Nb()[z](J(function(){this.Ra(7)},this))};mi[t].rollback=mi[t].Nb;
function X(a){this.l=a;this.s=a.o(Nd);this.Te=!1}I("lf.proc.Database",X,void 0);X[t].Ga=function(a){this.l.ub(Nd,this.s);return ki(this.l,a)[z](J(function(){this.Te=!0;return this},this))};X[t].init=X[t].Ga;X[t].Cb=G("s");X[t].getSchema=X[t].Cb;X[t].rc=function(){if(!this.Te)throw new P(2);};X[t].select=function(a){this.rc();return new W(this.l,1!=arguments[C]||null!=arguments[0]?e[t][n][r](arguments):[])};X[t].select=X[t].select;X[t].Eb=function(){this.rc();return new gh(this.l)};X[t].insert=X[t].Eb;
X[t].Ue=function(){this.rc();return new gh(this.l,!0)};X[t].insertOrReplace=X[t].Ue;qa(X[t],function(a){this.rc();return new kh(this.l,a)});qa(X[t],X[t][Ua]);ra(X[t],function(){this.rc();return new fh(this.l)});X[t]["delete"]=X[t][Xa];X[t].observe=function(a,b){this.l.o(Md).qe(a,b)};X[t].observe=X[t].observe;X[t].unobserve=function(a,b){this.l.o(Md).of(a,b)};X[t].unobserve=X[t].unobserve;X[t].Oi=function(){this.rc();return new mi(this.l)};X[t].createTransaction=X[t].Oi;
oa(X[t],function(){try{this.l.o(Hd)[Qa]()}catch(a){}this.l[w]();this.Te=!1});oa(X[t],X[t][Qa]);
function Y(a,b,c,d,g,k){this.S=a;this.A=b;this.Jg=c;this.Dg=d;this.Bh=g;this.lb=k||null}I("lf.schema.BaseColumn",Y,void 0);H=Y[t];na(H,G("A"));H.m=function(){return this.S.qa()+"."+this.A};f(H,function(){return this.m()});H.M=G("S");H.X=G("Bh");Y[t].getType=Y[t].X;Y[t].cb=G("lb");Y[t].Fa=function(){null==this.la&&(this.la=[],this.M().Fa()[F](function(a){-1!=a.f.map(function(a){return a.ga[u]()})[Za](this.A)&&this.la[x](a)},this));return this.la};Y[t].Zb=G("Dg");Y[t].isNullable=Y[t].Zb;Y[t].fd=G("Jg");
Y[t].Va=function(a){return jg(this,a,"eq")};Y[t].eq=Y[t].Va;Y[t].Rg=function(a){return jg(this,a,"neq")};Y[t].neq=Y[t].Rg;Y[t].af=function(a){return jg(this,a,"lt")};Y[t].lt=Y[t].af;Y[t].Ck=function(a){return jg(this,a,"lte")};Y[t].lte=Y[t].Ck;Y[t].gk=function(a){return jg(this,a,"gt")};Y[t].gt=Y[t].gk;Y[t].hk=function(a){return jg(this,a,"gte")};Y[t].gte=Y[t].hk;Y[t].match=function(a){return jg(this,a,"match")};Y[t].match=Y[t].match;Y[t].ai=function(a,b){return jg(this,[a,b],"between")};
Y[t].between=Y[t].ai;Y[t].nk=function(a){return jg(this,a,"in")};Y[t]["in"]=Y[t].nk;Y[t].wk=function(){return this.Va(null)};Y[t].isNull=Y[t].wk;Y[t].vk=function(){return this.Rg(null)};Y[t].isNotNull=Y[t].vk;Y[t].Ic=function(a){return new Y(this.S,this.A,this.Jg,this.Dg,this.Bh,a)};Y[t].as=Y[t].Ic;
function oi(){this.ke=new N}var pi;ta(oi[t],function(){this.ke[w]()});ta(oi[t],oi[t][w]);oi[t].ub=function(a,b){this.ke.set(a[D](),b);return b};oi[t].registerService=oi[t].ub;oi[t].o=function(a){var b=this.ke.get(a[D]())||null;if(null===b)throw new P(7,a[D]());return b};oi[t].getService=oi[t].o;oi[t].Ze=function(a){return this.ke.has(a[D]())};oi[t].isRegistered=oi[t].Ze;
function qi(a){this.s=a;this.nf=new N;this.Yg=new N;this.Vf=new N;this.h=new N;this.Be=new N;this.rk()}H=qi[t];H.rk=function(){this.s.ab()[F](function(a){var b=Td();a.Kb().Le()[F](function(c){var d=this.nf.get(c.gb)||[];d[x](c);this.nf.set(c.gb,d);b.add(this.s[h](c.gb));(d=this.h.get(c.gb))||(d=Td());d.add(a);this.h.set(c.gb,d);this.Vf.set(a[u]()+"."+c.Sb,c.gb);c=c.gb+"."+c.Cc;d=this.Be.get(c)||[];d[x](a[u]());this.Be.set(c,d)},this);0!=b[Hb]&&this.Yg.set(a[u](),b)},this)};
H.Xj=function(a){return this.nf.get(a)||null};H.dg=function(a,b){var c=b.get(a);return c?Ud(c):[]};H.Sj=function(a){return this.dg(a,this.Yg)};H.Tj=function(a){var b=Td();a[F](function(a){(a=this.Vf.get(a))&&b.add(a)},this);return Ud(b).map(function(a){return this.s[h](a)},this)};H.gg=function(a){return this.dg(a,this.h)};H.Ij=function(a){var b=Td();a[F](function(a){(a=this.Be.get(a))&&a[F](function(a){b.add(a)})},this);return Ud(b).map(function(a){return this.s[h](a)},this)};
function ri(a,b,c){this.Vk=a;this.Jk=b;this.sj=c}I("lf.schema.Constraint",ri,void 0);ri[t].Rd=G("Vk");ri[t].getPrimaryKey=ri[t].Rd;ri[t].Pj=G("Jk");ri[t].Le=G("sj");ri[t].getForeignKeys=ri[t].Le;
function si(a,b){var c=a.ref[Ja](".");if(2!=c[C])throw new P(540,b);this.Sb=a.local;this.gb=c[0];this.Cc=c[1];ja(this,b);this.action=a.action;this.timing=a[Ma]};
function Z(a){this.sc(a);this.A=a;this.G=new N;this.yf=Td();this.td=Td();this.kd=Td();this.Ba=null;this.la=new N;this.ce=!1;this.Jd=[]}I("lf.schema.TableBuilder",Z,void 0);function ti(a){ja(this,a[q]);this.tb=a.order;this.autoIncrement=a[ob]}var ui=Td([0,6]);H=Z[t];H.sc=function(a){if(!/^[A-Za-z_][A-Za-z0-9_]*$/.test(a))throw new P(502,a);};H.Kc=function(a){if(a==this.A)throw new P(546,a);if(this.G.has(a)||this.la.has(a)||this.td.has(a))throw new P(503,this.A+"."+a);};
H.vi=function(a){var b=!1;a[F](function(a){var d=this.G.get(a[q]);b=b||a[ob];if(a[ob]&&3!=d)throw new P(504);},this);if(b&&1<a[C])throw new P(505);};H.ti=function(){if(null!==this.Ba){var a=this.la.get(this.Ba).map(function(a){return a[q]}),b=0;if(this.Jd[$a](function(c,d){b=d;return-1!=a[Za](c.Sb)},this))throw new P(543,this.Jd[b][q]);}};
H.si=function(){if(null!==this.Ba){var a=function(a){return a[q]},b=ga[yb](this.la.get(this.Ba).map(a));this.la[F](function(c,d){if(d!=this.Ba){var g=c.map(a);if(ga[yb](g)==b)throw new P(544,this.A+"."+d);}},this)}};H.ui=function(){null===this.Ba||this.la.get(this.Ba)[F](function(a){if(this.kd.has(a[q]))throw new P(545,this.A+"."+a[q]);},this)};H.Jh=function(a,b){this.sc(a);this.Kc(a);this.G.set(a,b);ui.has(b)&&this.Gf([a]);return this};Z[t].addColumn=Z[t].Jh;
Z[t].Lh=function(a,b){var c=this.A;this.Ba="pk"+(c[0].toUpperCase()+c.substring(1));this.sc(this.Ba);this.Kc(this.Ba);c=this.Zd(a,!0,void 0,b);this.vi(c);1==c[C]&&this.yf.add(c[0][q]);this.td.add(this.Ba);this.la.set(this.Ba,c);return this};Z[t].addPrimaryKey=Z[t].Lh;
Z[t].Kh=function(a,b){this.sc(a);this.Kc(a);var c=new si(b,this.A+"."+a);Mb(c.action)||(c.action=0);Mb(c[Ma])||(c.timing=0);if(1==c.action&&1==c[Ma])throw new P(506);if(!this.G.has(c.Sb))throw new P(540,a);this.Jd[x](c);this.Ff(a,[c.Sb],!1);return this};Z[t].addForeignKey=Z[t].Kh;Z[t].Mh=function(a,b){this.sc(a);this.Kc(a);var c=this.Zd(b,!0);this.Rf(a,c);1==c[C]&&this.yf.add(c[0][q]);this.la.set(a,c);this.td.add(a);return this};Z[t].addUnique=Z[t].Mh;
Z[t].Gf=function(a){a=this.Zd(a,!1);this.ri(a);a[F](function(a){this.kd.add(a[q])},this);return this};Z[t].addNullable=Z[t].Gf;Z[t].ri=function(a){Ed(this.la)[F](function(b){var c=Td();this.la.get(b)[F](function(a){c.add(a[q])});var d=a[Ga](function(a){return c.has(a[q])});if(1<c[Hb]&&0<d[C])throw new P(507,b,d[m](","));},this)};Z[t].Ff=function(a,b,c,d){this.sc(a);this.Kc(a);b=this.Zd(b,!0,d);this.Rf(a,b);c&&this.td.add(a);this.la.set(a,b);return this};Z[t].addIndex=Z[t].Ff;
Z[t].Rf=function(a,b){if(1<b[C]){var c=b[Ga](function(a){return this.kd.has(a[q])},this);if(0<c[C])throw new P(507,a,c[m](","));}};Z[t].Mb=Jb("ce");Z[t].persistentIndex=Z[t].Mb;Z[t].Cb=function(){this.ti();this.si();this.ui();return new (this.Gj())};Z[t].getSchema=Z[t].Cb;Z[t].Zc=G("Jd");
Z[t].Zd=function(a,b,c,d){var g=a,g="string"==typeof a[0]?a.map(function(a){return new ti({name:a,order:null!=c?c:1,autoIncrement:d||!1})}):a.map(function(a){return new ti(a)});g[F](function(a){if(!this.G.has(a[q]))throw new P(508,this.A,a[q]);if(b){var c=this.G.get(a[q]);if(0==c||6==c)throw new P(509,this.A,a[q]);}},this);return g};
Z[t].Gj=function(){function a(){function a(c){return b.la.get(c).map(function(a){return{ga:this[a[q]],tb:a.tb,autoIncrement:a[ob]}},this)}var d=Ed(b.G).map(function(a){this[a]=new Y(this,a,b.yf.has(a),b.kd.has(a),b.G.get(a));return this[a]},this),g=Ed(b.la).map(function(d){return new lg(b.A,d,b.td.has(d),a[r](this,d))},this);S[r](this,b.A,d,g,b.ce);var k=null===b.Ba?null:new lg(b.A,b.Ba,!0,a[r](this,b.Ba)),l=d[Ga](function(a){return!b.kd.has(a[u]())});this.Fi=new ri(k,l,b.Zc());this.lh=b.Cj(d,g)}
var b=this;K(a,S);a[t].Jb=function(a){return new this.lh(id++,a)};a[t].createRow=a[t].Jb;a[t].tc=function(a){var b={};this.ob()[F](function(g){var k=g[u]();g=g.X();var l=a[v][k];if(0==g)if(g=l,null!=g&&""!=g){0!=g[C]%2&&(g="0"+g);for(var l=new ArrayBuffer(g[C]/2),p=new Uint8Array(l),y=0,ya=0;y<g[C];y+=2)p[ya++]=da(g.substr(y,2),16);g=l}else g=null;else g=2==g?null!=l?new Date(l):null:l;b[k]=g},this);return new this.lh(a.id,b)};a[t].deserializeRow=a[t].tc;a[t].Kb=G("Fi");a[t].getConstraint=a[t].Kb;
return a};
Z[t].Cj=function(a,b){function c(c,d){this.G=a;this.la=b;hd[r](this,c,d)}K(c,hd);c[t].$f=function(){var a={};this.G[F](function(b){a[b[u]()]=b.Zb()?null:ge[b.X()]});return a};c[t].yh=function(){var a={};this.G[F](function(b){var c=b[u]();b=b.X();var d=this.w()[c];a[c]=0==b?null!=d?ld(d):null:2==b?null!=d?d[Eb]():null:6==b?null!=d?d:null:d},this);return a};var d=J(function(a){var b=this.G.get(a[u]());return 2==b?function(b){b=b[a[u]()];return a.Zb()&&null===b?null:b[Eb]()}:1==b?function(b){return a.Zb()?(b=
b[a[u]()],null===b?null:b?1:0):b[a[u]()]?1:0}:function(b){return b[a[u]()]}},this),g=J(function(a){var b=a.map(function(a){return d(a.ga)});return function(a){return b.map(function(b){return b(a)})}},this),k={};b[F](function(a){var b=a.m();a=1==a.f[C]?d(a.f[0].ga):g(a.f);k[b]=a});c[t].$b=function(a){return-1!=a[Za]("#")?this.id():k[rb](a)?k[a](this.w()):null};return c};
function vi(a,b){this.s=new wi(a,b);this.xb=new N;this.Vc=!1}I("lf.schema.Builder",vi,void 0);H=vi[t];H.oi=function(a){a.Zc()[F](function(b){var c=b.gb;if(!this.xb.has(c))throw new P(536,b[q]);var c=this.xb.get(c).Cb(),d=b.Cc;if(!c[rb](d))throw new P(537,b[q]);if(a.Cb()[b.Sb].X()!=c[d].X())throw new P(538,b[q]);if(!c[d].fd())throw new P(539,b[q]);},this)};H.ni=function(a){a.Zc()[F](function(a){this.xb.get(a.gb).Zc()[F](function(c){if(c.Sb==a.Cc)throw new P(534,a[q]);},this)},this)};
H.mj=function(){this.Vc||(this.xb[F](function(a){this.oi(a);this.s.ml(a.Cb())},this),Fd(this.xb)[F](this.ni,this),this.mi(),this.xb[w](),this.Vc=!0)};H.Pf=function(a,b){a.Bf||(a.Bf=!0,a.ef=!0,a.cg[F](function(c){c=b.get(c);if(!c.Bf)this.Pf(c,b);else if(c.ef&&a!=c)throw new P(533);},this));a.ef=!1};H.mi=function(){var a=new N;this.s.I[F](function(b,c){a.set(c,new xi(c))},this);this.xb[F](function(b,c){b.Zc()[F](function(b){a.get(b.gb).cg.add(c)})});Fd(a)[F](function(b){this.Pf(b,a)},this)};
function xi(a){this.ef=this.Bf=!1;this.cg=Td();this.qd=a}H.Cb=function(){this.Vc||this.mj();return this.s};vi[t].getSchema=vi[t].Cb;vi[t].kg=function(){var a=new Gd("ns_"+this.s[q]()),b;pi||(pi=new oi);b=pi;var c=null;b.Ze(a)?c=b.o(a):(c=new oi,b.ub(a,c));return c};vi[t].getGlobal=vi[t].kg;vi[t].connect=function(a){var b=this.kg();b.Ze(Nd)||b.ub(Nd,this.Cb());return(new X(b)).Ga(a)};vi[t].connect=vi[t].connect;
vi[t].Mi=function(a){if(this.xb.has(a))throw new P(503,a);if(this.Vc)throw new P(535);this.xb.set(a,new Z(a));return this.xb.get(a)};vi[t].createTable=vi[t].Mi;vi[t].uf=function(a){if(this.Vc)throw new P(535);this.s.uf(a);return this};vi[t].setPragma=vi[t].uf;function wi(a,b){this.A=a;this.Ta=b;this.I=new N;this.bh={Ui:!1}}I("lf.schema.DatabaseSchema",wi,void 0);ja(wi[t],G("A"));ja(wi[t],wi[t][q]);wi[t].version=G("Ta");wi[t].version=wi[t][ub];wi[t].ab=function(){return Fd(this.I)};wi[t].tables=wi[t].ab;
ia(wi[t],function(a){if(!this.I.has(a))throw new P(101,a);return this.I.get(a)});ia(wi[t],wi[t][h]);wi[t].info=function(){this.xg||(this.xg=new qi(this));return this.xg};wi[t].ml=function(a){this.I.set(a[u](),a)};wi[t].ah=G("bh");wi[t].pragma=wi[t].ah;wi[t].uf=Jb("bh");I("lf.schema.create",function(a,b){return new vi(a,b)},void 0);}.bind(window))()
